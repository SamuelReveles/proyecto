"use strict";(self.webpackChunkjopaka=self.webpackChunkjopaka||[]).push([[43],{1043:(A,x,g)=>{g.r(x),g.d(x,{CuentaNutriModule:()=>ee});var d=g(9808),u=g(3075),h=g(1083),e=g(5e3),f=g(3249);function m(i,l){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div",11),e._UZ(3,"img",12),e.qZA(),e.TgZ(4,"div",13)(5,"div",14)(6,"p"),e._uU(7),e.qZA()(),e.TgZ(8,"div",15)(9,"p"),e._uU(10),e.qZA()()(),e.TgZ(11,"div",16)(12,"ul",17)(13,"li")(14,"a",18),e._uU(15,"Informaci\xf3n general"),e.qZA()(),e.TgZ(16,"li")(17,"a",19),e._uU(18,"Configuraci\xf3n de usuario"),e.qZA()(),e.TgZ(19,"li")(20,"a",20),e._uU(21,"Configuraci\xf3n de horarios"),e.qZA()(),e.TgZ(22,"li")(23,"a",21),e._uU(24,"Configuraci\xf3n de servicio"),e.qZA()()()()(),e.TgZ(25,"div",22),e._UZ(26,"router-outlet"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.s9C("src",t.nutriologo.imagen,e.LSH),e.xp6(4),e.AsE(" ",t.nutriologo.nombre," ",t.nutriologo.apellidos," "),e.xp6(3),e.hij(" ",t.nutriologo.correo," ")}}let b=(()=>{class i{constructor(t){this.nutriologoService=t}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sidebar"]],decls:13,vars:1,consts:[[1,"top"],[1,"navbar"],[1,"back"],["routerLink","../"],[1,"bx","bx-left-arrow-circle"],[1,"titulo"],[1,"logo"],["src","assets/img/logo.png","alt",""],["class","content",4,"ngIf"],[1,"content"],[1,"sidebar"],[1,"imagenUsuario"],["alt","",3,"src"],[1,"perfil"],[1,"nombre"],[1,"correo"],[1,"menu"],[1,"links"],["routerLink","overview"],["routerLink","configuracion"],["routerLink","config-horarios"],["routerLink","config-servicio"],[1,"info"]],template:function(t,n){1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"a",3),e._UZ(5,"i",4),e._uU(6," Regresar "),e.qZA()(),e.TgZ(7,"div",5),e._uU(8," CONFIGURACI\xd3N "),e.qZA(),e.TgZ(9,"div",6)(10,"a",3),e._UZ(11,"img",7),e.qZA()()()(),e.YNc(12,m,27,4,"div",8),e.qZA()),2&t&&(e.xp6(12),e.Q6J("ngIf",n.nutriologo))},directives:[h.yS,d.O5,h.lC],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{min-height:100vh}.material-icons[_ngcontent-%COMP%]{font-family:Material Icons!important}.top[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;height:70px;background:#ffffff;box-shadow:0 1px 5px #0003;z-index:99}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{height:100%;max-width:1250px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;padding:0 50px}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;white-space:nowrap;color:#00367d;font-size:25px;font-weight:400;display:flex;align-items:center}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 10px;font-size:25px}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#005acf;transition:.2s}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;width:auto}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:500;color:#494949}body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:10px;display:flex;width:100%;height:88vh;justify-content:space-between}.content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:500px;padding:20px 0;border-right:1px solid rgb(183,183,183)}.perfil[_ngcontent-%COMP%]{margin-bottom:50px}.sidebar[_ngcontent-%COMP%]   .imagenUsuario[_ngcontent-%COMP%]{width:150px;height:150px;overflow:hidden;margin:40px auto;position:relative;box-shadow:10px 10px 20px #ccc;border-radius:50%}.imagenUsuario[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-100%;right:-100%;margin:auto;height:150px}.nombre[_ngcontent-%COMP%]{font-weight:600;font-size:20px;text-align:center}.correo[_ngcontent-%COMP%]{font-size:15px;text-align:center}.menu[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{line-height:50px;height:100%}.menu[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{align-items:center;list-style:none;padding-left:15px;border-top:.2px solid #ccc;border-bottom:.2px solid #ccc}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%;text-decoration:none;white-space:nowrap;color:#3c3c3c;font-size:17px;font-weight:400}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#3c3c3c;border-left:5px solid rgb(60,60,60);background:rgb(237,237,237)}.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%;height:100%;padding:40px 20px 0 60px;overflow-y:auto}']}),i})();function s(i,l){1&i&&(e.TgZ(0,"div",5),e._uU(1," Adecuado "),e.qZA())}function a(i,l){1&i&&(e.TgZ(0,"div",9),e._uU(1," BANEADO "),e.qZA())}function p(i,l){if(1&i&&(e.TgZ(0,"div",1)(1,"p",2),e._uU(2,"CONFIGURACI\xd3N DEL USUARIO"),e.qZA(),e.TgZ(3,"h4"),e._uU(4,"Informaci\xf3n del usuario"),e.qZA(),e.TgZ(5,"p",2),e._uU(6,"Puedes editar tu nombre, apellidos, celular y foto de perfil."),e.qZA(),e.TgZ(7,"div",3)(8,"div",4),e._uU(9," NOMBRE "),e.qZA(),e.TgZ(10,"div",5),e._uU(11),e.qZA()(),e.TgZ(12,"div",3)(13,"div",4),e._uU(14," APELLIDOS "),e.qZA(),e.TgZ(15,"div",5),e._uU(16),e.qZA()(),e.TgZ(17,"div",3)(18,"div",4),e._uU(19," ESTATUS "),e.qZA(),e.YNc(20,s,2,0,"div",6),e.YNc(21,a,2,0,"div",7),e.qZA(),e.TgZ(22,"div",3)(23,"div",4),e._uU(24," SEXO "),e.qZA(),e.TgZ(25,"div",5),e._uU(26),e.qZA()(),e.TgZ(27,"div",3)(28,"div",4),e._uU(29," CELULAR "),e.qZA(),e.TgZ(30,"div",5),e._uU(31),e.qZA()(),e.TgZ(32,"div",3)(33,"div",4),e._uU(34," CORREO "),e.qZA(),e.TgZ(35,"div",5),e._uU(36),e.qZA()(),e._UZ(37,"br")(38,"br"),e.TgZ(39,"a",8),e._uU(40," Ver m\xe1s en Configuraci\xf3n de datos "),e.qZA()()),2&i){const t=e.oxw();e.xp6(11),e.hij(" ",t.nutriologo.nombre," "),e.xp6(5),e.hij(" ",t.nutriologo.apellidos," "),e.xp6(4),e.Q6J("ngIf",0==t.nutriologo.baneado),e.xp6(1),e.Q6J("ngIf",1==t.nutriologo.baneado),e.xp6(5),e.hij(" ",t.nutriologo.sexo," "),e.xp6(5),e.hij(" ",t.nutriologo.celular," "),e.xp6(5),e.hij(" ",t.nutriologo.correo," ")}}let _=(()=>{class i{constructor(t){this.nutriologoService=t}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-info-general"]],decls:6,vars:1,consts:[["class","info",4,"ngIf"],[1,"info"],[1,"small"],[1,"data"],[1,"campo"],[1,"detalle"],["class","detalle",4,"ngIf"],["class","detalle","style","color: red;",4,"ngIf"],["routerLink","../configuracion"],[1,"detalle",2,"color","red"]],template:function(t,n){1&t&&(e.TgZ(0,"h4"),e._uU(1,"Informaci\xf3n general"),e.qZA(),e.TgZ(2,"p"),e._uU(3,"Un lugar para administrar y configurar tu informaci\xf3n."),e.qZA(),e._UZ(4,"br"),e.YNc(5,p,41,7,"div",0)),2&t&&(e.xp6(5),e.Q6J("ngIf",n.nutriologo))},directives:[d.O5,h.yS],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.info[_ngcontent-%COMP%]{width:550px;height:auto;border:.5px solid rgb(207,207,207);border-radius:5px;padding:20px 30px;position:relative}.info[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:12px;color:#a5a5a5}.info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.info[_ngcontent-%COMP%]   .data_container[_ngcontent-%COMP%]{width:calc(100% + 15px);max-height:230px;overflow-y:auto;padding-right:15px}.data[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:40px;border-bottom:.5px solid #ccc}.data[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{font-size:14px;color:#787878;width:40%}.data[_ngcontent-%COMP%]   .detalle[_ngcontent-%COMP%]{font-size:15px;color:#404040;width:100%;font-weight:400}.info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;text-decoration:none;top:calc(100% - 40px);left:calc(100% - 300px);font-weight:600;font-size:15px}"]}),i})();var C=g(5861),U=g(87),M=g(7261),O=g(7531),Z=g(773);function w(i,l){1&i&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2," No puedes acceder a tu configuraci\xf3n debido a que tu cuenta se encuentra temporalmente suspendida. "),e.qZA()())}function y(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"button",34),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(19);return e.oxw(2).generarCodigo(o.value)})("click",function(){return e.CHM(t),e.oxw(3).counter=1}),e._uU(2,"Enviar c\xf3digo"),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("disabled",t.deshabilitar)}}function q(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"h4"),e._uU(2,"VALIDACI\xd3N DE CELULAR"),e.qZA(),e.TgZ(3,"div",10)(4,"span",11),e._uU(5,"Token"),e.qZA(),e.TgZ(6,"form",35)(7,"div",14)(8,"div",36),e._UZ(9,"input",37,38),e.qZA(),e.TgZ(11,"div",39)(12,"div",40)(13,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(10);return e.oxw(3).verificarCodigo(o.value)}),e._uU(14,"Verificar token"),e.qZA()(),e.TgZ(15,"div",33)(16,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).start()})("click",function(){e.CHM(t),e.oxw();const o=e.MAs(19);return e.oxw(2).generarCodigo(o.value)}),e._uU(17,"Reenviar c\xf3digo"),e.qZA()(),e.TgZ(18,"div",41)(19,"p"),e._uU(20),e.qZA()()()()()()()}if(2&i){const t=e.MAs(10),n=e.oxw(3);e.xp6(6),e.Q6J("formGroup",n.tokenFormGroup),e.xp6(7),e.Q6J("disabled",t.value.length<6),e.xp6(3),e.Q6J("disabled",n.deshabilitar||0==n.counter),e.xp6(4),e.hij(" ",n.segundos," seg")}}function N(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"h4"),e._uU(2,"Configuraci\xf3n de perf\xedl"),e.qZA(),e.TgZ(3,"div",9)(4,"h4"),e._uU(5,"DATOS GENERALES"),e.qZA(),e.TgZ(6,"div",10)(7,"span",11),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",12),e.qZA(),e.TgZ(10,"div",10)(11,"span",11),e._uU(12,"Apellidos"),e.qZA(),e._UZ(13,"input",13),e.qZA(),e.TgZ(14,"div",10)(15,"span",11),e._uU(16,"N\xfamero celular"),e.qZA(),e.TgZ(17,"div",14),e._UZ(18,"input",15,16),e.YNc(20,y,3,1,"div",17),e.qZA()()(),e.YNc(21,q,21,4,"div",18),e._UZ(22,"hr"),e.TgZ(23,"div",9)(24,"h4"),e._uU(25,"FOTO DE PERFIL"),e.qZA(),e.TgZ(26,"input",19),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).onFileChange(o)}),e.qZA()(),e._UZ(27,"hr"),e.TgZ(28,"div",9)(29,"h4"),e._uU(30,"ELIMINAR CUENTA"),e.qZA(),e.TgZ(31,"div",20)(32,"p"),e._uU(33,"Si borras tu cuenta de JOPAKA, tus datos desaparecer\xe1n para siempre."),e.qZA(),e.TgZ(34,"button",21),e._uU(35,"Eliminar cuenta"),e.qZA(),e.TgZ(36,"div",22)(37,"div",23)(38,"div",24)(39,"div",25)(40,"h6",26),e._uU(41),e.qZA(),e._UZ(42,"button",27),e.qZA(),e.TgZ(43,"div",28)(44,"ul",29),e._UZ(45,"br"),e.TgZ(46,"li"),e._uU(47,"Todo tu registro ser\xe1 eliminado, incluidos los compartidos con otros usuarios, se eliminar\xe1n de forma permanente. "),e.qZA(),e._UZ(48,"br"),e.TgZ(49,"li"),e._uU(50,"Perder\xe1s el acceso a JOPAKA."),e.qZA()()(),e.TgZ(51,"div",30)(52,"button",31),e._uU(53,"Volver a mi cuenta"),e.qZA(),e.TgZ(54,"button",32),e._uU(55,"Continuar con la eliminaci\xf3n de mi cuenta"),e.qZA()()()()()()()()}if(2&i){const t=e.oxw(2);e.xp6(9),e.s9C("value",t.nutriologo.nombre),e.xp6(4),e.s9C("value",t.nutriologo.apellidos),e.xp6(5),e.s9C("value",t.nutriologo.celular),e.xp6(2),e.Q6J("ngIf",t.nutriologo.celular!=t.configFormGroup.value.celular&&0==t.counter),e.xp6(1),e.Q6J("ngIf",t.nutriologo.celular!=t.configFormGroup.value.celular),e.xp6(20),e.hij("\xbfConfirmas que quieres eliminar tu cuenta vinculada a ",t.nutriologo.correo,"? ")}}function S(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4"),e._uU(4,"Configuraci\xf3n de usuario"),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateNutriologo()}),e._uU(6," Guardar cambios "),e.qZA()(),e.TgZ(7,"p"),e._uU(8,"Cualquier cambio que hagas se aplicar\xe1 en tu cuenta JOPAKA"),e.qZA(),e._UZ(9,"br"),e.qZA(),e.YNc(10,w,3,0,"div",6),e.YNc(11,N,56,6,"div",6),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.configFormGroup),e.xp6(5),e.Q6J("disabled",t.nutriologo.nombre==t.configFormGroup.value.nombre&&t.nutriologo.apellidos==t.configFormGroup.value.apellidos&&t.nutriologo.celular==t.configFormGroup.value.celular&&""==t.configFormGroup.value.imagen||t.nutriologo.celular!=t.configFormGroup.value.celular&&1==t.tokenValido||t.celular!=t.configFormGroup.value.celular&&0==t.tokenValido),e.xp6(5),e.Q6J("ngIf",1==t.nutriologo.baneado),e.xp6(1),e.Q6J("ngIf",0==t.nutriologo.baneado)}}function J(i,l){1&i&&(e.TgZ(0,"div",42),e._UZ(1,"mat-spinner"),e.qZA())}let I=(()=>{class i{constructor(t,n,o,c){this.nutriologoService=t,this.usuarioService=n,this._formBuilder=o,this._snackBar=c,this.spinner=!1,this.snackbarMeesage="",this.segundos=0,this.espera=20,this.datosValido=!0,this.deshabilitar=!1,this.tokenValido=!0,this.counter=0,this.date=new Date,this.formSubmitted=!1,this.configFormGroup=this._formBuilder.group({}),this.tokenFormGroup=this._formBuilder.group({codigo:["",[u.kI.required,u.kI.minLength(6)]]})}ngOnInit(){this.token=localStorage.getItem("token"),this.getNutriologo()}getNutriologo(){this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t,complete:()=>{this.configFormGroup=this._formBuilder.group({nombre:[this.nutriologo.nombre],apellidos:[this.nutriologo.apellidos],celular:[this.nutriologo.celular],imagen:[""]}),console.log(this.configFormGroup.value,this.nutriologo)}})}onFileChange(t){t.target.files.length>0&&this.configFormGroup.patchValue({imagen:t.target.files[0]})}clearPreview(t){t.input.value=null,this.configFormGroup.patchValue({imagen:[""]})}updateNutriologo(){this.token=localStorage.getItem("token"),console.log(this.configFormGroup.value),this.nutriologoService.updateNutriologo(this.token,this.configFormGroup.value,this.nutriologo).subscribe({next:t=>{console.log(t)},complete:()=>this.refresh(),error:t=>{console.error("There was an error!",t),this.snackbarMeesage="\u274c Error, celular ya registrado en otra cuenta ",this.openSnackBar()}})}deleatNutriologo(){this.nutriologoService.deleteNutriologo(this.token).subscribe({next:t=>{console.log(t)},error:t=>{console.error("There was an error!",t),this.snackbarMeesage="\u274c Error, no pudimos eliminar tu cuenta",this.openSnackBar()}})}openSnackBar(){this._snackBar.open(this.snackbarMeesage,"\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}refresh(){var t=this;return(0,C.Z)(function*(){t.spinner=!0,""!=t.configFormGroup.value.imagen?(yield new Promise(n=>setTimeout(n,4e3)),window.location.reload()):yield new Promise(n=>setTimeout(n,1500)),t.getNutriologo(),t.spinner=!1,t.snackbarMeesage="\u2705 Se han guardado los cambios",t.openSnackBar()})()}updateTimer(){this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(this.segundos),this.date.setMilliseconds(0);const t=this.date.getTime();this.date.setTime(t-1e3),this.segundos=this.date.getSeconds(),0===this.date.getSeconds()&&(this.deshabilitar=!1,this.stop())}stop(){clearInterval(this.timer)}start(){this.segundos=this.espera,this.segundos>0&&(this.deshabilitar=!0,this.updateTimer(),this.timer=setInterval(()=>{this.updateTimer()},1e3))}generarCodigo(t){1==this.tokenValido&&this.start(),this.celular=t,this.usuarioService.generarCodigo(t).subscribe()}verificarCodigo(t){console.log(this.celular),console.log(t),this.usuarioService.verificarCodigo(this.celular,t).subscribe({next:n=>this.veriCode=n,complete:()=>{"approved"===this.veriCode.status?(this.tokenValido=!1,this.deshabilitar=!1,this.tokenFormGroup.reset(),this.counter=0,this.snackbarMeesage="\u2705 C\xf3digo v\xe1lido ",this.openSnackBar()):(this.snackbarMeesage="\u274c C\xf3digo inv\xe1lido ",this.openSnackBar())},error:n=>{console.log("HTTP Error",n),this.snackbarMeesage="\u274c Ocurri\xf3 un error al hacer la validaci\xf3n",this.openSnackBar()}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.l),e.Y36(U.i),e.Y36(u.qu),e.Y36(M.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-configuracion"]],decls:2,vars:2,consts:[["action","#","autocomplete","off","class","container",3,"formGroup",4,"ngIf"],["class","spinner",4,"ngIf"],["action","#","autocomplete","off",1,"container",3,"formGroup"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","config",4,"ngIf"],[1,"config"],["role","alert",1,"alert","alert-danger"],[1,"user-details"],[1,"input-box"],[1,"detail"],["matInput","","type","text","formControlName","nombre","placeholder","Ingresa tu nombre",3,"value"],["matInput","","type","text","formControlName","apellidos","placeholder","Ingresa tus apellidos",3,"value"],[1,"input-token"],["matInput","","type","number","formControlName","celular","placeholder","Ingresa tu n\xfamero celular",3,"value"],["cel",""],["class","check-button",4,"ngIf"],["class","user-details",4,"ngIf"],["type","file","accept","image/png,image/jpeg",3,"change"],[1,"deleat"],["data-bs-toggle","modal","data-bs-target","#confirmDeleat",1,"btn","btn-outline-danger"],["id","confirmDeleat","tabindex","-1","aria-labelledby","confirmDeleat","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,""],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary","btn-sm"],["type","button","data-bs-dismiss","modal","routerLink","../../../../jopaka",1,"btn","btn-primary","btn-sm"],[1,"check-button"],[3,"disabled","click"],["autocomplete","off",3,"formGroup"],[1,"token"],["matInput","","formControlName","codigo","type","number","placeholder","Ingresa el token enviado via SMS",1,"entrada"],["token",""],[1,"reenviar"],[1,"check-button","check-code"],[1,"segundos"],[1,"spinner"]],template:function(t,n){1&t&&(e.YNc(0,S,12,4,"form",0),e.YNc(1,J,2,0,"div",1)),2&t&&(e.Q6J("ngIf",n.nutriologo),e.xp6(1),e.Q6J("ngIf",n.spinner))},directives:[d.O5,u._Y,u.JL,u.sg,O.Nt,u.Fj,u.JJ,u.u,u.wV,h.rH,Z.Ou],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{margin:0;font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{width:calc(100% + 32px);height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto}.config[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.user-details[_ngcontent-%COMP%]{width:100%;padding-top:20px;padding-bottom:5px}.user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#a5a5a5}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:15px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{color:#494949;font-size:14px;font-weight:400;margin-bottom:5px;width:200px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px;width:300px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#255388}[type=file][_ngcontent-%COMP%]{color:#878787}[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{background:#46acff;border:1px solid #46acff;border-radius:4px;color:#fff;cursor:pointer;font-size:13px;outline:none;padding:10px 20px;text-transform:uppercase;-webkit-transition:all .5s ease;transition:all .5s ease;margin-right:20px}[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button:hover{background:#1b8eed;border:1px solid #1b8eed}.deleat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.deleat[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:300px}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}.input-token[_ngcontent-%COMP%]{display:flex;align-items:center}.input-token[_ngcontent-%COMP%]   .reenviar[_ngcontent-%COMP%]{margin:auto;display:flex;justify-content:center;align-items:center}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:30px;margin:0 15px;font-size:12px;border:none;border-radius:5px}.input-token[_ngcontent-%COMP%]   .check-code[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(199,255,169,.493)}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(227,227,227)}.input-token[_ngcontent-%COMP%]   .check-code[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(199,255,169,.982)}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#f6f6f6;color:#d6d6d6}.input-token[_ngcontent-%COMP%]   .segundos[_ngcontent-%COMP%]{margin:0 10px;font-size:30px}"]}),i})();var F=g(7446);function H(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"h5"),e._uU(3),e.qZA(),e._UZ(4,"hr"),e.qZA(),e.TgZ(5,"div",9)(6,"p")(7,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["7:00"]=o}),e._uU(8," 07:00"),e.qZA()(),e.TgZ(9,"p")(10,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["7:30"]=o}),e._uU(11," 07:30"),e.qZA()(),e.TgZ(12,"p")(13,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["8:00"]=o}),e._uU(14," 08:00"),e.qZA()(),e.TgZ(15,"p")(16,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["8:30"]=o}),e._uU(17," 08:30"),e.qZA()(),e.TgZ(18,"p")(19,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["9:00"]=o}),e._uU(20," 09:00"),e.qZA()(),e.TgZ(21,"p")(22,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["9:30"]=o}),e._uU(23," 09:30"),e.qZA()(),e.TgZ(24,"p")(25,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["10:00"]=o}),e._uU(26,"10:00"),e.qZA()(),e.TgZ(27,"p")(28,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["10:30"]=o}),e._uU(29,"10:30"),e.qZA()(),e.TgZ(30,"p")(31,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["11:00"]=o}),e._uU(32,"11:00"),e.qZA()(),e.TgZ(33,"p")(34,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["11:30"]=o}),e._uU(35,"11:30"),e.qZA()(),e.TgZ(36,"p")(37,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["12:00"]=o}),e._uU(38,"12:00"),e.qZA()(),e.TgZ(39,"p")(40,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["12:30"]=o}),e._uU(41,"12:30"),e.qZA()(),e.TgZ(42,"p")(43,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["13:00"]=o}),e._uU(44,"13:00"),e.qZA()(),e.TgZ(45,"p")(46,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["13:30"]=o}),e._uU(47,"13:30"),e.qZA()(),e.TgZ(48,"p")(49,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["14:00"]=o}),e._uU(50,"14:00"),e.qZA()(),e.TgZ(51,"p")(52,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["14:30"]=o}),e._uU(53,"14:30"),e.qZA()(),e.TgZ(54,"p")(55,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["15:00"]=o}),e._uU(56,"15:00"),e.qZA()(),e.TgZ(57,"p")(58,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["15:30"]=o}),e._uU(59,"15:30"),e.qZA()(),e.TgZ(60,"p")(61,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["16:00"]=o}),e._uU(62,"16:00"),e.qZA()(),e.TgZ(63,"p")(64,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["16:30"]=o}),e._uU(65,"16:30"),e.qZA()(),e.TgZ(66,"p")(67,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["17:00"]=o}),e._uU(68,"17:00"),e.qZA()(),e.TgZ(69,"p")(70,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["17:30"]=o}),e._uU(71,"17:30"),e.qZA()(),e.TgZ(72,"p")(73,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["18:00"]=o}),e._uU(74,"18:00"),e.qZA()(),e.TgZ(75,"p")(76,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["18:30"]=o}),e._uU(77,"18:30"),e.qZA()(),e.TgZ(78,"p")(79,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["19:00"]=o}),e._uU(80,"19:00"),e.qZA()(),e.TgZ(81,"p")(82,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["19:30"]=o}),e._uU(83,"19:30"),e.qZA()(),e.TgZ(84,"p")(85,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["20:00"]=o}),e._uU(86,"20:00"),e.qZA()(),e.TgZ(87,"p")(88,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["20:30"]=o}),e._uU(89,"20:30"),e.qZA()(),e.TgZ(90,"p")(91,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["21:00"]=o}),e._uU(92,"21:00"),e.qZA()()()()}if(2&i){const t=l.$implicit,n=l.index,o=e.oxw();e.xp6(3),e.hij(" ",o.diasSemana[n]," "),e.xp6(4),e.Q6J("ngModel",t["7:00"]),e.xp6(3),e.Q6J("ngModel",t["7:30"]),e.xp6(3),e.Q6J("ngModel",t["8:00"]),e.xp6(3),e.Q6J("ngModel",t["8:30"]),e.xp6(3),e.Q6J("ngModel",t["9:00"]),e.xp6(3),e.Q6J("ngModel",t["9:30"]),e.xp6(3),e.Q6J("ngModel",t["10:00"]),e.xp6(3),e.Q6J("ngModel",t["10:30"]),e.xp6(3),e.Q6J("ngModel",t["11:00"]),e.xp6(3),e.Q6J("ngModel",t["11:30"]),e.xp6(3),e.Q6J("ngModel",t["12:00"]),e.xp6(3),e.Q6J("ngModel",t["12:30"]),e.xp6(3),e.Q6J("ngModel",t["13:00"]),e.xp6(3),e.Q6J("ngModel",t["13:30"]),e.xp6(3),e.Q6J("ngModel",t["14:00"]),e.xp6(3),e.Q6J("ngModel",t["14:30"]),e.xp6(3),e.Q6J("ngModel",t["15:00"]),e.xp6(3),e.Q6J("ngModel",t["15:30"]),e.xp6(3),e.Q6J("ngModel",t["16:00"]),e.xp6(3),e.Q6J("ngModel",t["16:30"]),e.xp6(3),e.Q6J("ngModel",t["17:00"]),e.xp6(3),e.Q6J("ngModel",t["17:30"]),e.xp6(3),e.Q6J("ngModel",t["18:00"]),e.xp6(3),e.Q6J("ngModel",t["18:30"]),e.xp6(3),e.Q6J("ngModel",t["19:00"]),e.xp6(3),e.Q6J("ngModel",t["19:30"]),e.xp6(3),e.Q6J("ngModel",t["20:00"]),e.xp6(3),e.Q6J("ngModel",t["20:30"]),e.xp6(3),e.Q6J("ngModel",t["21:00"])}}function E(i,l){1&i&&(e.TgZ(0,"div",11),e._UZ(1,"mat-spinner"),e.qZA())}let G=(()=>{class i{constructor(t,n){this.nutriologoService=t,this._snackBar=n,this.spinner=!1,this.horarios=[],this.diasSemana=["LUNES","MARTES","MI\xc9RCOLES","JUEVES","VIERNES","S\xc1BADO","DOMINGO"]}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t,complete:()=>{this.horarios=this.nutriologo.configuracion_fechas}}),"1"==localStorage.getItem("succes")&&this.openSnackBar()}updateHorario(){console.log(this.horarios),this.nutriologoService.updateHorario(this.token,this.horarios).subscribe({next:t=>{console.log(t),this.refresh()},error:t=>{console.error("There was an error!",t),this.openSnackBarBad()}})}openSnackBarBad(){this._snackBar.open("\u274c Ocurri\xf3 un error, al guardar los cambios ","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}openSnackBar(){this._snackBar.open("\u2705 Se han guardado el horario","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3}),localStorage.removeItem("succes")}refresh(){var t=this;return(0,C.Z)(function*(){t.spinner=!0,yield new Promise(n=>setTimeout(n,1500)),t.spinner=!1,localStorage.setItem("succes","1"),window.location.reload()})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.l),e.Y36(M.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-config-horarios"]],decls:16,vars:2,consts:[[1,"container"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"click"],[1,"config"],["class","horarios",4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],[1,"horarios"],[1,"dia"],[1,"horario"],[3,"ngModel","ngModelChange"],[1,"spinner"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"Configuraci\xf3n de horarios"),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.updateHorario()}),e._uU(6," Guardar cambios "),e.qZA()(),e.TgZ(7,"p"),e._uU(8,"Configura tu horario, de acuerdo a los d\xecas de los dias de la semana, marcando las casillas en las que deseas tener consultas "),e.TgZ(9,"b"),e._uU(10,"(Visible por 30 d\xedas)"),e.qZA(),e._uU(11,"."),e.qZA(),e._UZ(12,"br"),e.qZA(),e.TgZ(13,"div",4),e.YNc(14,H,93,30,"div",5),e.qZA()(),e.YNc(15,E,2,0,"div",6)),2&t&&(e.xp6(14),e.Q6J("ngForOf",n.horarios),e.xp6(1),e.Q6J("ngIf",n.spinner))},directives:[d.sg,F.oG,u.JJ,u.On,d.O5,Z.Ou],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:600px;margin-bottom:0}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{min-width:calc(100% + 32px);width:auto;height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto;overflow-x:auto;display:flex;justify-content:space-between}.horarios[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgb(255,199,31);border-radius:10px;padding:15px;margin-right:15px;display:flex;flex-direction:column;text-align:center}.horarios[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;border-bottom:1px solid #ccc;height:30px;margin-bottom:10px}.horarios[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px;font-weight:400}.horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}"]}),i})();var T=g(1159),Q=g(8675),$=g(4004),k=g(7322),v=g(6688),j=g(5245),P=g(1079),z=g(508),B=g(2368);const D=["categoryInput"];function L(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",23),e.NdJ("removed",function(){const c=e.CHM(t).$implicit;return e.oxw(2).remove(c)}),e._uU(1),e.TgZ(2,"button",24)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",t," ")}}function R(i,l){if(1&i&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Y(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4"),e._uU(4,"Configuraci\xf3n de perfil profesional"),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateServicio()}),e._uU(6," Guardar cambios "),e.qZA()(),e.TgZ(7,"p"),e._uU(8,"La informaci\xf3n aqu\xed configurada ser\xe1 o no mostrada en el apartado de b\xfasqueda"),e.qZA(),e._UZ(9,"br"),e.qZA(),e.TgZ(10,"div",6)(11,"h4"),e._uU(12,"Configuraci\xf3n de servicio"),e.qZA(),e.TgZ(13,"div",7)(14,"h4"),e._uU(15,"DATOS A MOSTRAR"),e.qZA(),e.TgZ(16,"div",8)(17,"span",9),e._uU(18,"Precio por consulta $ (MXN)"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",8)(21,"span",9),e._uU(22,"Descipci\xf3n, especialidades"),e.qZA(),e._UZ(23,"textarea",11),e.qZA(),e.TgZ(24,"div",8)(25,"span",9),e._uU(26,"Indicaciones"),e.qZA(),e._UZ(27,"textarea",12),e.qZA()(),e._UZ(28,"hr"),e.TgZ(29,"div",7)(30,"h4"),e._uU(31,"CATEGOR\xcdAS"),e.qZA(),e.TgZ(32,"mat-form-field",13)(33,"mat-label"),e._uU(34,"Categor\xedas en las que participo"),e.qZA(),e.TgZ(35,"mat-chip-list",14,15),e.YNc(37,L,5,1,"mat-chip",16),e.TgZ(38,"input",17,18),e.NdJ("matChipInputTokenEnd",function(o){return e.CHM(t),e.oxw().add(o)}),e.qZA()(),e.TgZ(40,"mat-autocomplete",19,20),e.NdJ("optionSelected",function(o){return e.CHM(t),e.oxw().selected(o)}),e.YNc(42,R,2,2,"mat-option",21),e.ALo(43,"async"),e.qZA()()(),e._UZ(44,"hr"),e.TgZ(45,"div",7)(46,"h4"),e._uU(47,"VISIBILIDAD"),e.qZA(),e.TgZ(48,"div",8)(49,"span",9),e._uU(50,"Visibilidad en el buscador"),e.qZA(),e._UZ(51,"mat-slide-toggle",22),e.qZA()(),e._UZ(52,"hr"),e.TgZ(53,"div",7)(54,"h4")(55,"b"),e._uU(56,"NOTAS:"),e.qZA()(),e.TgZ(57,"ul")(58,"li"),e._uU(59,"Las categorias le permiten al cliente hacer filtrado en las b\xfasquedas. Por lo tanto, elige las categorias de acuerdo a tus especialidades con el fin de posicionarte de forma adecuada en los resultados de b\xfasqueda. "),e.qZA(),e.TgZ(60,"li"),e._uU(61," Activar o desactivar tu visibilidad significa aparecer o no el el buscador. Esta herramienta es util en caso de que no quieras recibir m\xe1s consultas. Como nota, esta funci\xf3n se desactiva si la dem\xe1s informaci\xf3n est\xe1 vacia o es incorrecta. "),e.qZA()()()()()}if(2&i){const t=e.MAs(36),n=e.MAs(41),o=e.oxw();e.Q6J("formGroup",o.configFormGroup),e.xp6(5),e.Q6J("disabled",o.nutriologo.precio==o.configFormGroup.value.precio&&0==o.changeCategories&&o.nutriologo.descripcion==o.configFormGroup.value.descripcion&&o.nutriologo.indicaciones==o.configFormGroup.value.indicaciones&&o.nutriologo.activo==o.configFormGroup.value.activo||""==o.configFormGroup.value.descripcion||0==o.categories.length&&1==o.configFormGroup.value.activo||o.configFormGroup.value.precio<=0),e.xp6(14),e.MGl("value"," ",o.nutriologo.precio," "),e.xp6(4),e.MGl("value"," ",o.nutriologo.descripcion," "),e.xp6(4),e.MGl("value"," ",o.nutriologo.indicaciones," "),e.xp6(10),e.Q6J("ngForOf",o.categories),e.xp6(1),e.Q6J("formControl",o.categoryCtrl)("matAutocomplete",n)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",o.separatorKeysCodes),e.xp6(4),e.Q6J("ngForOf",e.lcZ(43,12,o.filteredCategories)),e.xp6(9),e.Q6J("disabled",""==o.configFormGroup.value.descripcion||0==o.categories.length&&0==o.configFormGroup.value.activo||o.configFormGroup.value.precio<=0)}}function V(i,l){1&i&&(e.TgZ(0,"div",26),e._UZ(1,"mat-spinner"),e.qZA())}const W=[{path:"",component:b,children:[{path:"overview",component:_},{path:"configuracion",component:I},{path:"config-horarios",component:G},{path:"config-servicio",component:(()=>{class i{constructor(t,n,o){this.nutriologoService=t,this._formBuilder=n,this._snackBar=o,this.spinner=!1,this.isChecked=!0,this.formSubmitted=!1,this.configFormGroup=this._formBuilder.group({}),this.separatorKeysCodes=[T.K5,T.OC],this.categoryCtrl=new u.NI,this.categories=[],this.changeCategories=!1,this.allCategories=["Obesidad","Vegetariano","Vegano","Diabetes","Transtornos alimenticios","Deportivo"],this.filteredCategories=this.categoryCtrl.valueChanges.pipe((0,Q.O)(null),(0,$.U)(c=>c?this._filter(c):this.allCategories.slice()))}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t,complete:()=>{this.configFormGroup=this._formBuilder.group({precio:[this.nutriologo.precio],descripcion:[this.nutriologo.descripcion],activo:[this.nutriologo.activo],indicaciones:[this.nutriologo.indicaciones],especialidades:[this.nutriologo.especialidades]}),console.log(this.configFormGroup.value),null!=this.nutriologo.especialidades&&(this.categories=this.nutriologo.especialidades)}}),"1"==localStorage.getItem("bienGuardado")&&this.openSnackBar()}updateServicio(){console.log(this.configFormGroup.value),this.nutriologoService.updateServicio(this.token,this.configFormGroup.value).subscribe({next:t=>{console.log(t),this.refresh()},error:t=>{console.error("There was an error!",t),this.openSnackBarBad()}})}openSnackBarBad(){this._snackBar.open("\u274c Ocurri\xf3 un error, no se pudieron guardar los cambios ","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}openSnackBar(){this._snackBar.open("\u2705 Se han guardado los cambios","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3}),localStorage.removeItem("bienGuardado")}refresh(){var t=this;return(0,C.Z)(function*(){t.spinner=!0,yield new Promise(n=>setTimeout(n,1500)),t.spinner=!1,localStorage.setItem("bienGuardado","1"),window.location.reload()})()}add(t){const n=(t.value||"").trim();n&&(this.categories.push(n),this.configFormGroup.value.especialidades=this.categories,this.changeCategories=!0),t.chipInput.clear(),this.categoryCtrl.setValue(null)}remove(t){const n=this.categories.indexOf(t);n>=0&&(this.categories.splice(n,1),this.configFormGroup.value.especialidades=this.categories,this.changeCategories=!0)}selected(t){this.categories.push(t.option.viewValue),this.configFormGroup.value.especialidades=this.categories,this.changeCategories=!0,this.categoryInput.nativeElement.value="",this.categoryCtrl.setValue(null)}_filter(t){const n=t.toLowerCase();return this.allCategories.filter(o=>o.toLowerCase().includes(n))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.l),e.Y36(u.qu),e.Y36(M.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-config-servicios"]],viewQuery:function(t,n){if(1&t&&e.Gf(D,5),2&t){let o;e.iGM(o=e.CRH())&&(n.categoryInput=o.first)}},decls:2,vars:2,consts:[["action","#","autocomplete","off","class","container",3,"formGroup",4,"ngIf"],["class","spinner",4,"ngIf"],["action","#","autocomplete","off",1,"container",3,"formGroup"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"config"],[1,"user-details"],[1,"input-box"],[1,"detail"],["matInput","","type","number","formControlName","precio","placeholder","Establece tu precio por consulta",3,"value"],["matInput","","id","texto","formControlName","descripcion","maxlength","300","placeholder","Anota aqu\xed tus estudios y/o especialidades para que los clientes te conozcan mejor.",3,"value"],["matInput","","id","texto","formControlName","indicaciones","maxlength","300","placeholder","Puedes dar indicaciones previas a la consulta, como pesarse, medir su altura, etc.",3,"value"],["appearance","fill",1,"example-chip-list"],["aria-label","Category selection"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","Agregar categoria...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["categoryInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formControlName","activo",3,"disabled"],[3,"removed"],["matChipRemove",""],[3,"value"],[1,"spinner"]],template:function(t,n){1&t&&(e.YNc(0,Y,62,14,"form",0),e.YNc(1,V,2,0,"div",1)),2&t&&(e.Q6J("ngIf",n.nutriologo),e.xp6(1),e.Q6J("ngIf",n.spinner))},directives:[d.O5,u._Y,u.JL,u.sg,O.Nt,u.wV,u.Fj,u.JJ,u.u,u.nD,k.KE,k.hX,v.qn,d.sg,v.HS,v.qH,j.Hw,P.ZL,v.oH,u.oH,P.XC,z.ey,B.Rr,Z.Ou],pipes:[d.Ov],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{width:calc(100% + 32px);height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto}.config[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.user-details[_ngcontent-%COMP%]{width:100%;padding-top:20px;padding-bottom:5px}.user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#a5a5a5}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:20px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{color:#494949;font-size:14px;font-weight:400;margin-bottom:5px;width:250px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px;width:300px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:150px;max-height:150px;width:500px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;padding-top:5px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#255388}.example-chip-list[_ngcontent-%COMP%]{width:100%}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}"]}),i})()},{path:"**",redirectTo:"overview"}]}];let K=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[h.Bz.forChild(W)],h.Bz]}),i})();var X=g(5090);let ee=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.ez,K,u.u5,X.q,u.UX]]}),i})()},3249:(A,x,g)=>{g.d(x,{l:()=>f});var d=g(520),u=g(2340),h=g(5e3),e=g(1083);let f=(()=>{class m{constructor(s,a){this.http=s,this.router=a,this.baseUrl=u.N.baseUrl,this.apiUrl=`${this.baseUrl}/nutriologo`}getNotificaciones(s){return this.http.get(`${this.apiUrl}/notificaciones`,{headers:(new d.WM).set("jopakatoken",s)})}putNotificaciones(s){return this.http.put(`${this.apiUrl}/notificaciones`,"",{headers:(new d.WM).set("jopakatoken",s)})}deleteNotificaciones(s,a){return this.http.delete(`${this.apiUrl}/notificaciones?index=${a}`,{headers:(new d.WM).set("jopakatoken",s)})}getPacientes(s){return this.http.get(`${this.apiUrl}/pacientes`,{headers:(new d.WM).set("jopakatoken",s)})}getDietas(s,a){return this.http.get(`${this.apiUrl}/dietas?id=${a}`,{headers:(new d.WM).set("jopakatoken",s)})}getDieta(s,a,p){return this.http.get(`${this.apiUrl}/historial?indice=${a}&id=${p}`,{responseType:"arraybuffer",headers:(new d.WM).set("jopakatoken",s)})}getPredeterminados(s){return this.http.get(`${this.apiUrl}/predeterminado`,{headers:(new d.WM).set("jopakatoken",s)})}createPredeterminado(s,a){return this.http.post(`${this.apiUrl}/predeterminado`,a,{headers:(new d.WM).set("jopakatoken",s)})}updatePredeterminado(s,a,p){return this.http.put(`${this.apiUrl}/predeterminado`,{nombreAnterior:a,nuevoNombre:p.nuevoNombre,texto:p.texto},{headers:(new d.WM).set("jopakatoken",s)})}deletePredeterminado(s,a){return this.http.delete(`${this.apiUrl}/predeterminado?index=${a}`,{headers:(new d.WM).set("jopakatoken",s)})}getChatData(s,a){return this.http.get(`${this.apiUrl}/servicioChat`,{headers:(new d.WM).set("jopakatoken",s),params:(new d.LE).set("id_servicio",a)})}getReportesMotivo(s){return this.http.get(`${this.apiUrl}/motivos`,{headers:(new d.WM).set("jopakatoken",s)})}putReporte(s,a){return this.http.put(`${this.apiUrl}/reportar?`,a,{headers:(new d.WM).set("jopakatoken",s)})}getNutriologo(s){return this.http.get(`${this.apiUrl}/data`,{headers:(new d.WM).set("jopakatoken",s)})}updateNutriologo(s,a,p){const _=new FormData;return""!=a.imagen&&_.append("imagen",a.imagen),a.nombre!=p.nombre&&_.append("nombre",a.nombre),a.apellidos!=p.apellidos&&_.append("apellidos",a.apellidos),a.celular!=p.celular&&_.append("celular",a.celular),this.http.put(`${this.apiUrl}/`,_,{headers:(new d.WM).set("jopakatoken",s)})}updateServicio(s,a){return this.http.put(`${this.apiUrl}/servicio`,a,{headers:(new d.WM).set("jopakatoken",s)})}updateHorario(s,a){const p={fechas:a};return console.log(p),this.http.put(`${this.apiUrl}/fechas`,p,{headers:(new d.WM).set("jopakatoken",s)})}deleteNutriologo(s){return this.http.delete(`${this.apiUrl}/`,{headers:(new d.WM).set("jopakatoken",s)})}}return m.\u0275fac=function(s){return new(s||m)(h.LFG(d.eN),h.LFG(e.F0))},m.\u0275prov=h.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);