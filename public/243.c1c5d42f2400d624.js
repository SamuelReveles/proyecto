"use strict";(self.webpackChunkjopaka=self.webpackChunkjopaka||[]).push([[243],{3243:(ft,x,d)=>{d.r(x),d.d(x,{DashboardNutriModule:()=>ht});var l=d(9808),s=d(3075),g=d(1083),t=d(5e3),Z=d(87),u=d(3249),v=d(7544),b=d(2181);function P(n,a){1&n&&(t.TgZ(0,"p",25),t._uU(1,"No hay notificaciones"),t.qZA())}function M(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",30)(1,"p",31),t._uU(2),t.ALo(3,"date"),t.TgZ(4,"span"),t._uU(5,"(Nuevo)"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"i",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index;return t.oxw(2).deleteNotificacion(i)}),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij("",t.Dn7(3,2,e.hora,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(5),t.Oqu(e.mensaje)}}function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"p",31),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"i",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index;return t.oxw(2).deleteNotificacion(i)}),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.Dn7(3,2,e.hora,"dd/MM/yyyy, h:mm a","UTC -5")),t.xp6(3),t.Oqu(e.mensaje)}}function T(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,M,9,6,"div",28),t.YNc(2,O,7,6,"div",29),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.visto),t.xp6(1),t.Q6J("ngIf",1==e.visto)}}function A(n,a){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,T,3,2,"div",27),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.notifications)}}let y=(()=>{class n{constructor(e,o){this.usuarioService=e,this.nutriologoService=o,this.hidden=!0,this.notifications=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.getNotificaciones()}getNotificaciones(){this.nutriologoService.getNotificaciones(this.token).subscribe({next:e=>{this.notificaciones=e},complete:()=>{this.notifications=[];for(let e=0;e<this.notificaciones.notificaciones.length;e++)this.notifications.push(this.notificaciones.notificaciones[this.notificaciones.notificaciones.length-1-e]);0!=this.notifications.length&&0==this.notifications[0].visto&&(this.hidden=!1)}})}leerNotificaciones(){this.nutriologoService.putNotificaciones(this.token).subscribe({next:e=>console.log(e),error:e=>console.log(e)})}deleteNotificacion(e){this.nutriologoService.deleteNotificaciones(this.token,this.notifications.length-1-e).subscribe({next:i=>{console.log(i),this.getNotificaciones()},error:i=>console.log(i)})}toggleBadgeVisibility(){this.hidden=!0}logout(){this.usuarioService.logout(),window.location.reload()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Z.i),t.Y36(u.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-navbar"]],decls:41,vars:5,consts:[[1,"nav-bar"],[1,"bx","bx-menu","sidebarOpen"],[1,"logo"],["routerLink","inicio"],["src","assets/img/logo.png","alt","logo JOPAKA"],[1,"menu"],[1,"logo-toggle"],[1,"bx","bx-x","sidebarClose"],[1,"nav-links"],["routerLink","pacientes"],["routerLink","calendario"],["routerLink","lista-alimentos"],[1,"notification-account"],[1,"account"],["matBadgeColor","warn","matBadge","\u3164","matBadgeSize","small",3,"matMenuTriggerFor","matBadgeHidden","click"],[1,"bx","bxs-bell"],["xPosition","before"],["notificaciones","matMenu"],["mat-menu-item","",4,"ngIf"],["class","notis",4,"ngIf"],[3,"matMenuTriggerFor"],[1,"bx","bxs-user-circle"],["beforeMenu","matMenu"],["mat-menu-item","","routerLink","../cuenta"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[1,"notis"],[4,"ngFor","ngForOf"],["class","not-read noti",4,"ngIf"],["class","read noti",4,"ngIf"],[1,"not-read","noti"],[1,"hora"],[1,"bx","bx-x","bx-sm",3,"click"],[1,"read","noti"]],template:function(e,o){if(1&e&&(t.TgZ(0,"body")(1,"nav")(2,"div",0),t._UZ(3,"i",1),t.TgZ(4,"div",2)(5,"a",3),t._UZ(6,"img",4),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"span",2)(10,"a",3),t._uU(11,"JOPAKA"),t.qZA()(),t._UZ(12,"i",7),t.qZA(),t.TgZ(13,"ul",8)(14,"li")(15,"a",9),t._uU(16,"PACIENTES"),t.qZA()(),t.TgZ(17,"li")(18,"a",10),t._uU(19,"CALENDARIO"),t.qZA()(),t.TgZ(20,"li")(21,"a",11),t._uU(22,"ALIMENTOS PREDETERMINADOS"),t.qZA()()()(),t.TgZ(23,"div",12)(24,"div",13)(25,"a",14),t.NdJ("click",function(){return o.toggleBadgeVisibility()})("click",function(){return o.leerNotificaciones()}),t._UZ(26,"i",15),t.qZA(),t.TgZ(27,"mat-menu",16,17),t.YNc(29,P,2,0,"p",18),t.YNc(30,A,2,1,"div",19),t.qZA()(),t.TgZ(31,"div",13)(32,"a",20),t._UZ(33,"i",21),t.qZA(),t.TgZ(34,"mat-menu",16,22)(36,"button",23),t._uU(37,"Configuraci\xf3n de Cuenta"),t.qZA(),t.TgZ(38,"button",24),t.NdJ("click",function(){return o.logout()}),t._uU(39,"Cerrar sesi\xf3n "),t.qZA()()()()()(),t._UZ(40,"router-outlet"),t.qZA()),2&e){const i=t.MAs(28),r=t.MAs(35);t.xp6(25),t.Q6J("matMenuTriggerFor",i)("matBadgeHidden",o.hidden),t.xp6(4),t.Q6J("ngIf",0==o.notifications.length),t.xp6(1),t.Q6J("ngIf",0!=o.notifications.length),t.xp6(2),t.Q6J("matMenuTriggerFor",r)}},directives:[g.yS,v.k,b.p6,b.VK,l.O5,b.OP,l.sg,g.rH,g.lC],pipes:[l.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{min-height:100vh;padding-top:70px;background:rgb(255,255,255)}nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;height:70px;background:#ffffff;box-shadow:0 1px 5px #0003;z-index:99}nav[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]{height:100%;max-width:1250px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;padding:0 50px}nav[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   .sidebarOpen[_ngcontent-%COMP%]{color:#fff;font-size:25px;padding:5px;cursor:pointer;display:none}nav[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;width:auto}.menu[_ngcontent-%COMP%]   .logo-toggle[_ngcontent-%COMP%]{display:none}.nav-bar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:flex;align-items:center}.nav-bar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;list-style:none;padding:10px 35px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;white-space:nowrap;color:#00367d;font-size:20px;font-weight:300}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;bottom:0;transform:translate(-50%);height:6px;width:6px;border-radius:50%;background-color:#00367d;opacity:0;transition:all .3s ease}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]:before{opacity:1;transition:all .3s ease}.nav-bar[_ngcontent-%COMP%]   .notification-account[_ngcontent-%COMP%]{display:flex}.notification-account[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{height:40px;width:40px;display:flex;align-items:center;justify-content:center;margin:15px}.notification-account[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{margin-left:0}.account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00367d;font-size:28px;cursor:pointer}.notis[_ngcontent-%COMP%]{width:275px;height:auto;max-height:500px;overflow-y:auto;background:#fff;margin:-8px 0;font-size:13px}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]{width:100%;height:auto;padding:10px 13px 10px 10px;border-bottom:1px solid #ccc;position:relative}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]   .hora[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:600}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:red}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;font-weight:500;font-style:italic;font-size:9px;margin-left:5px}.read[_ngcontent-%COMP%]{background-color:#eee}.nav-bar[_ngcontent-%COMP%]   .bx-menu[_ngcontent-%COMP%]{display:none}']}),n})();var f=d(5861),U=d(6491),w=d(6638),m=d(8966),h=d(7261),C=d(5245),_=d(5615),q=d(7531),k=d(7238);function N(n,a){1&n&&t._uU(0,"Completa los datos")}function D(n,a){1&n&&t._uU(0,"Llenado de calendario")}function J(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).copyClipboard(r.texto,r.nombre)}),t._uU(1),t.qZA()}if(2&n){const e=a.$implicit,o=t.oxw(2);t.MGl("matTooltip","Copiar: ",e.nombre,""),t.Q6J("matTooltipPosition",o.position.value),t.xp6(1),t.hij(" ",e.nombre," ")}}function S(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"textarea",38),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.desayuno=i}),t.qZA()(),t.TgZ(5,"td")(6,"textarea",38),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.merienda1=i}),t.qZA()(),t.TgZ(7,"td")(8,"textarea",38),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.comida=i}),t.qZA()(),t.TgZ(9,"td")(10,"textarea",38),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.merienda2=i}),t.qZA()(),t.TgZ(11,"td")(12,"textarea",38),t.NdJ("ngModelChange",function(i){return t.CHM(e).$implicit.cena=i}),t.qZA()()()}if(2&n){const e=a.$implicit,o=a.index,i=t.oxw(2);t.xp6(2),t.Oqu(i.filas[o]),t.xp6(2),t.Q6J("ngModel",e.desayuno),t.xp6(2),t.Q6J("ngModel",e.merienda1),t.xp6(2),t.Q6J("ngModel",e.comida),t.xp6(2),t.Q6J("ngModel",e.merienda2),t.xp6(2),t.Q6J("ngModel",e.cena)}}function L(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"h5"),t._uU(3,"PREDETERMINADOS"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"Copia alimento predeterminado de tu lista para llenar el calendario m\xe1s r\xe1pidamente."),t.qZA(),t.YNc(6,J,2,3,"button",29),t.TgZ(7,"button",30),t._uU(8," Agregar "),t._UZ(9,"i",31),t.qZA()(),t.TgZ(10,"div",32)(11,"table",33)(12,"thead")(13,"tr"),t._UZ(14,"td"),t.TgZ(15,"th"),t._uU(16,"DESAYUNO"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"MERIENDA"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"COMIDA"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"COLACI\xd3N"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"CENA"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,S,13,6,"tr",34),t.qZA()(),t.TgZ(27,"div",35)(28,"span",13),t._uU(29,"Notas:"),t.qZA(),t.TgZ(30,"textarea",36),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().notas=i}),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.predeterminados),t.xp6(20),t.Q6J("ngForOf",e.calendario),t.xp6(4),t.Q6J("ngModel",e.notas)}}let I=(()=>{class n{constructor(e,o,i,r,c){this.dialogRef=e,this.paciente=o,this.nutriologoService=i,this.formBuilder=r,this.snackBar=c,this.position=new s.NI("after"),this.datosLlenados=!1,this.predeterminados=[],this.isLinear=!0,this.panelOpenState=!1,this.notas="",this.registroFisicoFormGroup=this.formBuilder.group({peso:["",[s.kI.required]],altura:["",[s.kI.required]],brazo:[""],cuello:[""],abdomen:[""],cadera:[""],muslos:[""],pectoral:[""]}),this.calendario=[{desayuno:"",merienda1:"",comida:"",merienda2:"",cena:""},{desayuno:"",merienda1:"",comida:"",merienda2:"",cena:""},{desayuno:"",merienda1:"",comida:"",merienda2:"",cena:""},{desayuno:"",merienda1:"",comida:"",merienda2:"",cena:""},{desayuno:"",merienda1:"",comida:"",merienda2:"",cena:""},{desayuno:"",merienda1:"",comida:"",merienda2:"",cena:""},{desayuno:"",merienda1:"",comida:"",merienda2:"",cena:""}],this.filas=["LUNES","MARTES","MI\xc9RCOLES","JUEVES","VIERNES","S\xc1BADO","DOMINGO"],this.listCompras=""}ngOnInit(){this.token=localStorage.getItem("token"),this.userType=localStorage.getItem("role"),console.log(this.calendario),console.log(this.paciente)}getPredeterminados(){this.nutriologoService.getPredeterminados(this.token).subscribe({next:e=>{this.predeterminados=e,console.log(e)}})}copyClipboard(e,o){navigator.clipboard.writeText(e),alert("Alimento predeterminado copiado: "+o)}openSnackBarBad(){this.snackBar.open("\u274c Error al guardar los cambios ","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}openSnackBar(){this.snackBar.open("\u2705 Los datos han sido registrados","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3}),localStorage.removeItem("succes")}verDatos(){console.log(this.registroFisicoFormGroup.value),console.log(this.calendario)}llenarDatos(){var e=this;return(0,f.Z)(function*(){e.nutriologoService.llenarDatos(e.token,e.paciente.id_servicio,e.registroFisicoFormGroup.value).subscribe({next:o=>{console.log(o),e.nutriologoService.llenarCalendario(e.token,e.paciente.id_servicio,e.calendario,e.notas).subscribe({next:i=>console.log(i),error:i=>console.log(i)})},error:o=>console.log(o)})})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.so),t.Y36(m.WI),t.Y36(u.l),t.Y36(s.qu),t.Y36(h.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-llenar-datos"]],decls:64,vars:8,consts:[[1,"container"],[1,"modal-header"],[1,"modal-title"],["id","icon"],["mat-dialog-close","",1,"btn-close"],[1,"modal-body"],[3,"linear"],["stepper",""],[3,"stepControl"],["action","#","autocomplete","off",3,"formGroup"],["matStepLabel",""],[1,"user-details"],[1,"input-box"],[1,"detail"],["type","number","placeholder","","formControlName","peso","required","",1,"form-control"],["matInput","","type","number","placeholder","","formControlName","altura","required","",1,"form-control"],["matInput","","type","number","placeholder","","formControlName","brazo",1,"form-control"],["matInput","","type","number","placeholder","","formControlName","cuello",1,"form-control"],["matInput","","type","number","placeholder","","formControlName","abdomen",1,"form-control"],["matInput","","type","number","placeholder","","formControlName","cadera",1,"form-control"],["matInput","","type","number","placeholder","","formControlName","muslos",1,"form-control"],["matInput","","type","number","placeholder","","formControlName","pectoral",1,"form-control"],[1,"button"],["matStepperNext","",1,"btn","btn-outline-primary",3,"disabled","click"],["class","llenado",4,"ngIf"],["matStepperPrevious","",1,"btn","btn-outline-secondary",3,"click"],["mat-dialog-close","",1,"btn","btn-primary",3,"click"],[1,"llenado"],[1,"predeterminados"],["class","pred","aria-label","Button that displays a tooltip in various positions",3,"matTooltip","matTooltipPosition","click",4,"ngFor","ngForOf"],["mat-dialog-close","","routerLink","/Jopaka/nutriologo/dashboard/lista-alimentos",1,"btn","btn-outline-primary","btn-sm","nuevo"],[1,"bx","bx-plus"],[1,"calendario"],[1,"table","align-middle","table-borderless"],[4,"ngFor","ngForOf"],[1,"notas"],["placeholder","Si tienes notas, agregalas aqu\xed",1,"form-control",3,"ngModel","ngModelChange"],["aria-label","Button that displays a tooltip in various positions",1,"pred",3,"matTooltip","matTooltipPosition","click"],[1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2)(3,"mat-icon",3),t._uU(4,"calendar_today"),t.qZA(),t._uU(5),t.ALo(6,"uppercase"),t.qZA(),t._UZ(7,"button",4),t.qZA(),t.TgZ(8,"div",5)(9,"mat-stepper",6,7)(11,"mat-step",8)(12,"form",9),t.YNc(13,N,1,0,"ng-template",10),t.TgZ(14,"div",11)(15,"div",12)(16,"span",13),t._uU(17,"Peso (Kg) "),t.TgZ(18,"b"),t._uU(19,"*"),t.qZA(),t._uU(20,":"),t.qZA(),t._UZ(21,"input",14),t.qZA(),t.TgZ(22,"div",12)(23,"span",13),t._uU(24,"Altura (cm) "),t.TgZ(25,"b"),t._uU(26,"*"),t.qZA(),t._uU(27,":"),t.qZA(),t._UZ(28,"input",15),t.qZA(),t.TgZ(29,"div",12)(30,"span",13),t._uU(31,"Brazo (cm):"),t.qZA(),t._UZ(32,"input",16),t.qZA(),t.TgZ(33,"div",12)(34,"span",13),t._uU(35,"Cuello (cm):"),t.qZA(),t._UZ(36,"input",17),t.qZA(),t.TgZ(37,"div",12)(38,"span",13),t._uU(39,"Abdomen (cm):"),t.qZA(),t._UZ(40,"input",18),t.qZA(),t.TgZ(41,"div",12)(42,"span",13),t._uU(43,"Cadera (cm):"),t.qZA(),t._UZ(44,"input",19),t.qZA(),t.TgZ(45,"div",12)(46,"span",13),t._uU(47,"Muslos (cm):"),t.qZA(),t._UZ(48,"input",20),t.qZA(),t.TgZ(49,"div",12)(50,"span",13),t._uU(51,"Pectoral (cm):"),t.qZA(),t._UZ(52,"input",21),t.qZA()(),t.TgZ(53,"div",22)(54,"button",23),t.NdJ("click",function(){return o.datosLlenados=!0})("click",function(){return o.getPredeterminados()}),t._uU(55," Siguente "),t.qZA()()()(),t.TgZ(56,"mat-step"),t.YNc(57,D,1,0,"ng-template",10),t.YNc(58,L,31,3,"div",24),t.TgZ(59,"div",22)(60,"button",25),t.NdJ("click",function(){return o.datosLlenados=!1}),t._uU(61,"Regresar"),t.qZA(),t.TgZ(62,"button",26),t.NdJ("click",function(){return o.verDatos()})("click",function(){return o.llenarDatos()}),t._uU(63,"Guardar"),t.qZA()()()()()()),2&e&&(t.xp6(5),t.hij(" Resgistrar los datos de ",t.lcZ(6,6,o.paciente.nombre)," "),t.xp6(4),t.Q6J("linear",o.isLinear),t.xp6(2),t.Q6J("stepControl",o.registroFisicoFormGroup),t.xp6(1),t.Q6J("formGroup",o.registroFisicoFormGroup),t.xp6(42),t.Q6J("disabled",o.registroFisicoFormGroup.invalid),t.xp6(4),t.Q6J("ngIf",1==o.datosLlenados))},directives:[C.Hw,m.ZT,_.Vq,_.C0,s._Y,s.JL,s.sg,_.VY,s.wV,s.Fj,s.JJ,s.u,s.Q7,q.Nt,_.Ic,l.O5,l.sg,k.gM,g.rH,s.On,_.fd],pipes:[l.gd],styles:["h5[_ngcontent-%COMP%]{margin:0 0 15px;display:flex;align-items:center}p[_ngcontent-%COMP%]{padding:0 10px;font-size:13px}button[_ngcontent-%COMP%]:focus{box-shadow:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#255388;box-shadow:none}textarea[_ngcontent-%COMP%]{min-height:130px;max-height:130px}label[_ngcontent-%COMP%]{font-weight:500}#icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px;color:#0764bb}.container[_ngcontent-%COMP%]{width:auto;min-width:700px;height:100%;margin:-22px;padding:0}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:-10px}form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;margin:10px auto 20px;max-width:600px}form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px;width:calc(50% - 50px)}form[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:300;margin:0 5px;color:red}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{width:90%;font-weight:400;margin-bottom:5px;color:#474747}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px;width:70%;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;font-size:16px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#255388}.button[_ngcontent-%COMP%]{border-top:1px dashed #ccc;margin-top:20px;padding-top:15px;margin-bottom:-15px;display:flex;justify-content:right}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px}.instruction[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:left;font-size:16px;margin-bottom:40px;margin-top:20px}.llenado[_ngcontent-%COMP%]{width:1100px;height:450px;display:flex;justify-content:space-between;border:1px solid #ccc;border-radius:5px}.llenado[_ngcontent-%COMP%]   .predeterminados[_ngcontent-%COMP%]{min-width:270px;max-width:270px;height:100%;text-align:center;padding-top:20px;border-right:1px solid #ccc;overflow-y:auto}.llenado[_ngcontent-%COMP%]   .predeterminados[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px;display:block}.predeterminados[_ngcontent-%COMP%]   .pred[_ngcontent-%COMP%]{width:100%;height:50px;border:1px solid #ccc;border-left:10px solid rgb(195,195,195);background:rgb(250,250,250)}.predeterminados[_ngcontent-%COMP%]   .nuevo[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:25px auto 15px;text-decoration:none}.predeterminados[_ngcontent-%COMP%]   .pred[_ngcontent-%COMP%]:hover{border-left:10px solid rgb(109,109,109);font-size:17px}.llenado[_ngcontent-%COMP%]   .calendario[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;padding:10px 30px 10px 20px}.calendario[_ngcontent-%COMP%]   .notas[_ngcontent-%COMP%]{display:flex;width:auto;padding:10px 10px 10px 20px;justify-content:space-between;align-items:center}.notas[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:120px;font-weight:400}.notas[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border-radius:5px;border:1px solid #ccc;min-height:50px;max-height:100px;padding:5px}.notas[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#255388}.calendario[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{height:auto;width:auto;border:none;text-align:center}.calendario[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;max-height:80px;width:170px;border-radius:5px;padding:5px 10px;font-size:11px}"]}),n})();var F=d(8817),p=d(2075),j=d(773);function E(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24),t._UZ(4,"img",25),t.qZA()(),t.TgZ(5,"div",26)(6,"button",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).openReportes(r.id_servicio)}),t.TgZ(7,"mat-icon",28),t._uU(8,"error_outline"),t.qZA()(),t.TgZ(9,"p",29),t._uU(10),t.ALo(11,"uppercase"),t.qZA(),t.TgZ(12,"p",30),t._uU(13),t.ALo(14,"uppercase"),t.qZA()()(),t.TgZ(15,"div",31)(16,"p")(17,"b"),t._uU(18,"CITA: "),t.qZA(),t._uU(19),t.ALo(20,"date"),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"div",32)(23,"button",33),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).openLlenarDatos(r)}),t._uU(24," Llenar datos "),t.qZA(),t.TgZ(25,"button",34),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).openChat(r.id_servicio)}),t._uU(26,"Chat"),t.qZA(),t.TgZ(27,"button",35),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).pacienteNombre=r.nombre})("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).getDietas(r.id)}),t._uU(28," Ver dietas "),t.qZA()()()()}if(2&n){const e=a.$implicit;t.xp6(4),t.s9C("src",e.imagen,t.LSH),t.xp6(6),t.Oqu(t.lcZ(11,6,e.nombre)),t.xp6(3),t.Oqu(t.lcZ(14,8,e.apellidos)),t.xp6(6),t.hij(" ",t.Dn7(20,10,e.cita,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(4),t.Q6J("disabled",1==e.reagendar||1==e.llenarDatos),t.xp6(4),t.Q6J("disabled",0==e.verDatos)}}function R(n,a){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,E,29,14,"div",20),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.pacientes.activos)}}function Y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24),t._UZ(4,"img",25),t.qZA()(),t.TgZ(5,"div",26)(6,"p",29),t._uU(7),t.ALo(8,"uppercase"),t.qZA(),t.TgZ(9,"p",30),t._uU(10),t.ALo(11,"uppercase"),t.qZA()()(),t.TgZ(12,"div",31)(13,"p")(14,"b"),t._uU(15,"\xdaLTIMA CITA: "),t.qZA(),t._uU(16),t.ALo(17,"date"),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"div",32)(20,"button",36),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).pacienteNombre=r.nombre})("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).getDietas(r.id)}),t._uU(21," Ver dietas "),t.qZA()()()()}if(2&n){const e=a.$implicit;t.xp6(4),t.s9C("src",e.imagen,t.LSH),t.xp6(3),t.Oqu(t.lcZ(8,5,e.nombre)),t.xp6(3),t.Oqu(t.lcZ(11,7,e.apellidos)),t.xp6(6),t.hij(" ",t.Dn7(17,9,e.cita,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(4),t.Q6J("disabled",0==e.verDatos)}}function Q(n,a){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,Y,22,13,"div",20),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.pacientes.inactivos)}}function z(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1," No. "),t.qZA())}function B(n,a){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=a.index;t.xp6(1),t.hij(" ",e+1," ")}}function H(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1," Fecha de la dieta "),t.qZA())}function $(n,a){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.fecha," ")}}function G(n,a){1&n&&(t.TgZ(0,"th",46),t._uU(1," PDF "),t.qZA())}function V(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",47)(1,"button",48),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw(2).getDieta(r)}),t._UZ(2,"i",49),t.qZA()()}}function X(n,a){1&n&&t._UZ(0,"tr",50)}function K(n,a){1&n&&t._UZ(0,"tr",51)}function W(n,a){if(1&n&&(t.TgZ(0,"section",37)(1,"table",38),t.ynx(2,39),t.YNc(3,z,2,0,"th",40),t.YNc(4,B,2,1,"td",41),t.BQk(),t.ynx(5,42),t.YNc(6,H,2,0,"th",40),t.YNc(7,$,2,1,"td",41),t.BQk(),t.ynx(8,43),t.YNc(9,G,2,0,"th",40),t.YNc(10,V,3,0,"td",41),t.BQk(),t.YNc(11,X,1,0,"tr",44),t.YNc(12,K,1,0,"tr",45),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dietas),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function tt(n,a){1&n&&(t.TgZ(0,"div",52),t._uU(1," A\xfan no tiene dietas asignadas por ver! "),t.qZA())}function et(n,a){1&n&&(t.TgZ(0,"div",53),t._UZ(1,"mat-spinner"),t.qZA())}let nt=(()=>{class n{constructor(e,o,i){this.nutriologoService=e,this.dialog=o,this.webSocketService=i,this.dietas=[],this.displayedColumns=["position","fecha","dieta"],this.spinner=!1}ngOnInit(){this.token=localStorage.getItem("token"),this.getPacientes()}getPacientes(){this.nutriologoService.getPacientes(this.token).subscribe({next:e=>this.pacientes=e,complete:()=>console.log(this.pacientes)})}getDietas(e){this.id_Cliente=e,this.nutriologoService.getDietas(this.token,e).subscribe({next:o=>this.dietas=o,complete:()=>console.log(this.dietas),error:o=>console.log(o)})}getDieta(e){this.nutriologoService.getDieta(this.token,e,this.id_Cliente).subscribe(o=>{console.log(o);let i=new Blob([o],{type:"application/pdf"});var r=URL.createObjectURL(i);window.open(r)})}openChat(e){this.dialog.open(U.P,{width:"450px",height:"600px",data:e}).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}openLlenarDatos(e){this.dialog.open(I,{width:"auto",height:"auto",data:e}).afterClosed().subscribe(()=>{this.refresh()})}openReportes(e){this.dialog.open(w.V,{width:"auto",height:"auto",data:e}).afterClosed().subscribe(()=>{console.log("The dialog was closed"),this.getPacientes()})}refresh(){var e=this;return(0,f.Z)(function*(){e.spinner=!0,yield new Promise(o=>setTimeout(o,2500)),window.location.reload(),e.spinner=!1})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.l),t.Y36(m.uw),t.Y36(F.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pacientes"]],decls:34,vars:7,consts:[[1,"container"],[1,"header"],[1,"titulo"],[1,"content"],[1,"indicador"],[1,"bx","bx-caret-right"],["class","cont-pacientes",4,"ngIf"],["id","listaDietas","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["class","lista_container mat-elevation-z8","tabindex","0",4,"ngIf"],["class","alert alert-secondary","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary","btn-sm"],["class","spinner",4,"ngIf"],[1,"cont-pacientes"],["class","paciente",4,"ngFor","ngForOf"],[1,"paciente"],[1,"general"],[1,"imagen"],[1,"imagenUsuario"],["alt","",3,"src"],[1,"datos"],["id","report",3,"click"],["id","icon"],["id","nombre"],["id","apellidos"],[1,"detalles"],[1,"d-grid","gap-2"],[1,"btn","btn-outline-success","btn-sm",3,"disabled","click"],[1,"btn","btn-outline-success","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#listaDietas",1,"btn","btn-outline-success","btn-sm",3,"disabled","click"],["data-bs-toggle","modal","data-bs-target","#listaDietas",1,"btn","btn-outline-info","btn-sm",3,"disabled","click"],["tabindex","0",1,"lista_container","mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha"],["matColumnDef","dieta"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],[1,"bx","bxs-file-pdf","bx-sm"],["mat-header-row",""],["mat-row",""],["role","alert",1,"alert","alert-secondary"],[1,"spinner"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"MIS PACIENTES"),t.qZA()(),t._UZ(4,"br"),t.TgZ(5,"div",3)(6,"p",4),t._UZ(7,"i",5),t._uU(8,"Pacientes activos"),t.qZA(),t._UZ(9,"br"),t.YNc(10,R,2,1,"div",6),t.TgZ(11,"p",4),t._UZ(12,"i",5),t._uU(13,"Pacientes inactivos"),t.qZA(),t._UZ(14,"br"),t.YNc(15,Q,2,1,"div",6),t.qZA()(),t.TgZ(16,"div",7)(17,"div",8)(18,"div",9)(19,"div",10)(20,"h5",11),t._uU(21),t.qZA(),t._UZ(22,"button",12),t.qZA(),t.TgZ(23,"div",13)(24,"p"),t._uU(25),t.qZA(),t._UZ(26,"br"),t.YNc(27,W,13,4,"section",14),t.YNc(28,tt,2,0,"div",15),t._UZ(29,"br"),t.qZA(),t.TgZ(30,"div",16)(31,"button",17),t._uU(32,"Cerrar"),t.qZA()()()()(),t.YNc(33,et,2,0,"div",18)),2&e&&(t.xp6(10),t.Q6J("ngIf",o.pacientes),t.xp6(5),t.Q6J("ngIf",o.pacientes),t.xp6(6),t.hij("Ver dietas previas de ",o.pacienteNombre,""),t.xp6(4),t.hij("La siguiente lista todas contiene las dietas que se le han asignado a ",o.pacienteNombre,"."),t.xp6(2),t.Q6J("ngIf",o.dietas.length>0),t.xp6(1),t.Q6J("ngIf",0==o.dietas.length),t.xp6(5),t.Q6J("ngIf",o.spinner))},directives:[l.O5,l.sg,C.Hw,p.BZ,p.w1,p.fO,p.ge,p.Dz,p.ev,p.as,p.XQ,p.nj,p.Gk,j.Ou],pipes:[l.gd,l.uU],styles:["p[_ngcontent-%COMP%]{margin:0;font-weight:500}b[_ngcontent-%COMP%]{font-weight:600;margin-right:5px;color:#8c8c8c}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:600;color:#51aeff}.container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;padding:40px 30px 0}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;height:50px;padding-bottom:10px;border-bottom:1px solid #ccc}.header[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#5d5d5d;text-align:center;margin-bottom:0}.content[_ngcontent-%COMP%]{width:calc(100% + 30px);padding-right:40px;height:calc(100vh - 185px);overflow-y:auto}.indicador[_ngcontent-%COMP%]{font-size:15px;color:#7c7c7c;font-weight:300;display:flex;align-items:center}.cont-pacientes[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.paciente[_ngcontent-%COMP%]{height:auto;width:270px;border:4px solid rgb(236,236,236);padding:15px;border-radius:10px;margin-right:40px;margin-bottom:40px}.paciente[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]{width:100%;height:120px;display:flex;justify-content:space-between}.general[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{width:auto;display:flex;align-items:center}.imagenUsuario[_ngcontent-%COMP%]{width:100px;height:120px;overflow:hidden;margin:0 auto;position:relative;border-radius:5px}.general[_ngcontent-%COMP%]   .imagenUsuario[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-100%;right:-100%;margin:auto;height:120px}.general[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]{width:100%;padding-left:15px;padding-top:20px;text-align:center;display:flex;flex-direction:column;justify-content:center;position:relative}.datos[_ngcontent-%COMP%]   #report[_ngcontent-%COMP%]{border:none;background:none;position:absolute;top:0px;right:-5px;color:#aaa}.datos[_ngcontent-%COMP%]   #report[_ngcontent-%COMP%]:hover:valid{transition:.5s;color:red}.datos[_ngcontent-%COMP%]   #icon[_ngcontent-%COMP%]{font-size:20px}.datos[_ngcontent-%COMP%]   #apellidos[_ngcontent-%COMP%]{font-size:12px;color:#ccc;margin-top:5px}.paciente[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{width:100%;height:auto;padding-top:20px;padding-bottom:10px;font-size:13px;display:flex;flex-direction:column;position:relative}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:300;font-size:16px}.lista_container[_ngcontent-%COMP%]{max-height:300px;height:auto;overflow:auto}.lista_container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.lista_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none}table[_ngcontent-%COMP%]{width:100%}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}"]}),n})();var ot=d(4031),it=d(7449);function at(n,a){1&n&&t._UZ(0,"hr")}function rt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).openReagendar(r.servicio)}),t._uU(2," Solicitar reagendaci\xf3n "),t.qZA(),t.TgZ(3,"p")(4,"b"),t._uU(5,"Paciente: "),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"p")(8,"b"),t._uU(9,"Hora: "),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"p")(12,"a",18),t._uU(13," Ir a la llamada"),t.qZA()(),t.YNc(14,at,1,0,"hr",19),t.qZA()}if(2&n){const e=a.$implicit,o=a.index,i=t.oxw(),r=i.index,c=i.$implicit,xt=t.oxw(2);t.xp6(1),t.Q6J("disabled",0==xt.citas.reagendar&&0==r),t.xp6(5),t.hij(" ",e.paciente," "),t.xp6(4),t.hij(" ",e.hora," hrs. "),t.xp6(2),t.s9C("href",e.llamada,t.LSH),t.xp6(2),t.Q6J("ngIf",o!=c.pacientes.length-1)}}function ct(n,a){if(1&n&&(t.TgZ(0,"div",11)(1,"h2",12)(2,"button",13),t._uU(3),t.TgZ(4,"span"),t._uU(5),t.qZA()()(),t.TgZ(6,"div",14),t.YNc(7,rt,15,5,"div",15),t.qZA()()),2&n){const e=a.$implicit;t.xp6(3),t.hij(" ",e.dia," "),t.xp6(2),t.hij("(",e.pacientes.length,")"),t.xp6(2),t.Q6J("ngForOf",e.pacientes)}}function st(n,a){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,ct,8,3,"div",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.citas.calendario)}}function dt(n,a){1&n&&t._UZ(0,"hr")}function lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"h2",12)(2,"button",20),t._uU(3),t.qZA()(),t.TgZ(4,"div",21)(5,"div",16)(6,"div",22)(7,"button",23),t._uU(8," Aceptar "),t.qZA(),t.TgZ(9,"div",24)(10,"div",25)(11,"div",26)(12,"div",27)(13,"h5",28),t._uU(14,"\xbfEst\xe1s seguro de aceptar la solicitud?"),t.qZA(),t._UZ(15,"button",29),t.qZA(),t.TgZ(16,"div",30),t._uU(17),t.ALo(18,"date"),t.TgZ(19,"b"),t._UZ(20,"i",31),t.qZA(),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"div",32)(24,"button",33),t._uU(25,"Cancelar"),t.qZA(),t.TgZ(26,"button",34),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).aceptarReagendacion(r.solicitud)}),t._uU(27,"Aceptar"),t.qZA()()()()(),t.TgZ(28,"button",35),t._uU(29," Denegar "),t.qZA(),t.TgZ(30,"div",36)(31,"div",25)(32,"div",26)(33,"div",27)(34,"h5",28),t._uU(35,"\xbfEst\xe1s seguro de denegar la solicitud?"),t.qZA(),t._UZ(36,"button",29),t.qZA(),t.TgZ(37,"div",30),t._uU(38),t.ALo(39,"date"),t.TgZ(40,"b"),t._UZ(41,"i",31),t.qZA(),t._uU(42),t.ALo(43,"date"),t._UZ(44,"br"),t._uU(45," ser\xe1 "),t.TgZ(46,"b"),t._uU(47,"denegada"),t.qZA(),t._uU(48,". "),t.qZA(),t.TgZ(49,"div",32)(50,"button",33),t._uU(51,"Cancelar"),t.qZA(),t.TgZ(52,"button",37),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).denegarReagendacion(r.solicitud)}),t._uU(53,"Continuar"),t.qZA()()()()()(),t.TgZ(54,"p")(55,"b"),t._uU(56,"Fecha agendada: "),t.qZA(),t._uU(57),t.ALo(58,"date"),t.qZA(),t.TgZ(59,"p")(60,"b"),t._uU(61,"Fecha solicitada: "),t.qZA(),t._uU(62),t.ALo(63,"date"),t.qZA(),t.TgZ(64,"p")(65,"b"),t._uU(66,"Raz\xf3n de la solicitud: "),t.qZA(),t._uU(67),t.qZA(),t.YNc(68,dt,1,0,"hr",19),t.qZA()()()}if(2&n){const e=a.$implicit,o=a.index,i=t.oxw(2);t.xp6(3),t.hij(" Solicitud de ",e.emisor," "),t.xp6(14),t.AsE(" La cita con ",e.emisor," ser\xe1 reagendada del: ",t.Dn7(18,11,e.fecha_antigua,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(4),t.hij(" ",t.Dn7(22,15,e.fecha_nueva,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(17),t.AsE(" La solicitud de ",e.emisor," de reagendar la cita del: ",t.Dn7(39,19,e.fecha_antigua,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(4),t.hij(" ",t.Dn7(43,23,e.fecha_nueva,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(15),t.hij(" ",t.Dn7(58,27,e.fecha_antigua,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(5),t.hij(" ",t.Dn7(63,31,e.fecha_nueva,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(5),t.hij(" ",e.mensaje," "),t.xp6(1),t.Q6J("ngIf",o!=i.reagendaciones.length-1)}}function pt(n,a){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,lt,69,35,"div",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.reagendaciones)}}function ut(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",10),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",11)(6,"button",35),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().pasarDatos(r.nombre,r.texto)}),t._UZ(7,"i",36),t.qZA(),t.TgZ(8,"button",37),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw().pasarIndex(r)}),t._UZ(9,"i",38),t.qZA()()()}if(2&n){const e=a.$implicit,o=a.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.hij(" ",e.nombre," ")}}const mt=[{path:"",component:y,children:[{path:"pacientes",component:nt},{path:"calendario",component:(()=>{class n{constructor(e,o,i,r){this.nutriologoService=e,this.nutriologosService=o,this.dialog=i,this.snackBar=r,this.mensaje="",this.reagendaciones=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.getCitas(),this.getReagendaciones(),this.nutriologoService.getNutriologo(this.token).subscribe({next:e=>this.nutri=e,complete:()=>{this.nutriologosService.getNutriologoPorId(this.nutri._id).subscribe({next:e=>this.nutriologo=e})}})}getCitas(){this.nutriologoService.getCitas(this.token).subscribe({next:e=>{this.citas=e,console.log(e)}})}getReagendaciones(){this.nutriologoService.getReagendaciones(this.token).subscribe({next:e=>{this.reagendaciones=e,console.log(e)}})}openReagendar(e){this.dialog.open(ot.z,{width:"auto",height:"auto",data:{idService:e,nutriologo:this.nutriologo}}).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}aceptarReagendacion(e){this.nutriologoService.aceptarReagendacion(this.token,e).subscribe({next:o=>{console.log(o),this.mensaje="\u2705 Has aceptado la solicitud",this.openSnackBar()},complete:()=>{this.getCitas(),this.getReagendaciones()},error:o=>{console.log(o),this.mensaje="\u274c Error, ya hay otra cita en este horario",this.openSnackBar()}}),this.getCitas(),this.getReagendaciones()}denegarReagendacion(e){this.nutriologoService.denegarReagendacion(this.token,e).subscribe({next:o=>{console.log(o),this.mensaje="Has denegado la solicitud",this.openSnackBar()},complete:()=>{this.getCitas(),this.getReagendaciones()},error:o=>{console.log(o),this.mensaje="\u274c Ocurri\xf3 un error",this.openSnackBar()}}),this.getCitas(),this.getReagendaciones()}getCalendarioPDF(){this.nutriologoService.getCalendarioPDF(this.token).subscribe(e=>{console.log(e);let o=new Blob([e],{type:"application/pdf"});var i=URL.createObjectURL(o);window.open(i)})}openSnackBar(){this.snackBar.open(this.mensaje,"\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3}),localStorage.removeItem("succes")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.l),t.Y36(it.I),t.Y36(m.uw),t.Y36(h.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-calendario"]],decls:23,vars:3,consts:[[1,"container"],[1,"header"],[1,"titulo"],[1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"bx","bxs-file-pdf"],[1,"content"],[1,"indicador"],[1,"bx","bx-caret-right"],["class","accordion accordion-flush",4,"ngIf"],[1,"accordion","accordion-flush"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#citas","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","collapsed"],["id","citas","aria-labelledby","flush-headingOne","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],["class","cita",4,"ngFor","ngForOf"],[1,"cita"],[1,"reagendar","btn","btn-outline-secondary","btn-sm",3,"disabled","click"],["target","_blank",3,"href"],[4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#reagendacion","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","collapsed"],["id","reagendacion","aria-labelledby","flush-headingOne","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"reagendar"],["data-bs-toggle","modal","data-bs-target","#aceptarSoli",1,"btn","btn-outline-success","btn-sm"],["id","aceptarSoli","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"bx","bx-right-arrow-alt"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary","btn-sm"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#denegarSoli",1,"btn","btn-outline-secondary","btn-sm"],["id","denegarSoli","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"CALENDARIO"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return o.getCalendarioPDF()}),t._uU(5," Descargar "),t._UZ(6,"i",4),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"div",5)(9,"p",6),t._UZ(10,"i",7),t._uU(11,"Citas pr\xf3ximas"),t.qZA(),t._UZ(12,"br"),t.YNc(13,st,2,1,"div",8),t._UZ(14,"br")(15,"br"),t.TgZ(16,"p",6),t._UZ(17,"i",7),t._uU(18),t.qZA(),t._UZ(19,"br"),t.YNc(20,pt,2,1,"div",8),t._UZ(21,"br")(22,"br"),t.qZA()()),2&e&&(t.xp6(13),t.Q6J("ngIf",o.citas),t.xp6(5),t.hij("Solicitudes de reagendaci\xf3n - Pendientes (",o.reagendaciones.length,")"),t.xp6(2),t.Q6J("ngIf",o.reagendaciones))},directives:[l.O5,l.sg],pipes:[l.uU],styles:["p[_ngcontent-%COMP%]{margin:4px;font-weight:400}b[_ngcontent-%COMP%]{font-weight:500;margin-right:5px;color:#8c8c8c}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:500;color:#51aeff}.container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;padding:40px 30px 0}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;height:50px;padding-bottom:10px;border-bottom:1px solid #ccc}.header[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#5d5d5d;text-align:center;margin-bottom:0}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:110px}.content[_ngcontent-%COMP%]{width:calc(100% + 30px);padding-right:40px;height:calc(100vh - 185px);overflow-y:auto}.indicador[_ngcontent-%COMP%]{font-size:15px;color:#7c7c7c;font-weight:300;display:flex;align-items:center}.cita[_ngcontent-%COMP%]{width:auto;height:auto;padding:15px 0;margin:10px 20px 0;position:relative}.cita[_ngcontent-%COMP%]   .reagendar[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.cita[_ngcontent-%COMP%]   .reagendar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:15px}.accordion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;margin-left:20px;font-size:15px}.accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{color:#232323;background:rgb(246,246,246);margin-left:5px;box-shadow:none}.modal-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-weight:600;margin:0 5px;color:#8a2be2}"]}),n})()},{path:"lista-alimentos",component:(()=>{class n{constructor(e,o,i){this.nutriologoService=e,this.formBuilder=o,this._snackBar=i,this.predeterminados=[],this.displayedColumns=["position","nombre"],this.mensaje="",this.newPredeterminado=this.formBuilder.group({nombre:["",s.kI.required],texto:["",s.kI.required]}),this.upPredeterminado=this.formBuilder.group({nuevoNombre:["",s.kI.required],texto:["",s.kI.required]})}ngOnInit(){this.token=localStorage.getItem("token"),this.getPredeterminados()}getPredeterminados(){this.nutriologoService.getPredeterminados(this.token).subscribe({next:e=>this.predeterminados=e})}createPredeterminado(){console.log(this.newPredeterminado),this.nutriologoService.createPredeterminado(this.token,this.newPredeterminado.value).subscribe({next:()=>this.getPredeterminados()})}updatePredeterminado(){this.nutriologoService.updatePredeterminado(this.token,this.nombrePred,this.upPredeterminado.value).subscribe({next:()=>this.getPredeterminados()})}deletePredeterminado(){this.nutriologoService.deletePredeterminado(this.token,this.nombrePred).subscribe({next:()=>this.getPredeterminados()})}pasarIndex(e){this.nombrePred=e}pasarDatos(e,o){this.nombrePred=e,this.upPredeterminado.controls.nuevoNombre.setValue(e),this.upPredeterminado.controls.texto.setValue(o),console.log(this.upPredeterminado.value)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.l),t.Y36(s.qu),t.Y36(h.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-alimentos-pred"]],decls:81,vars:6,consts:[[1,"container"],[1,"header"],[1,"titulo"],["data-bs-toggle","modal","data-bs-target","#nuevoPredeterminado",1,"btn","btn-outline-primary","btn-sm"],[1,"bx","bx-plus"],[1,"indicador"],[1,"row"],[1,"col"],[1,"table","table-hover","align-middle","table-borderless"],[1,"table-light"],["id","number"],["id","acciones"],[1,"wrapper"],[4,"ngFor","ngForOf"],["action","#","autocomplete","off","id","nuevoPredeterminado","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade",3,"formGroup"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"col-form-label"],["type","text","formControlName","nombre",1,"form-control"],["formControlName","texto",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success","btn-sm",3,"disabled","click"],["action","#","autocomplete","off","id","actualizarPredeterminado","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"formGroup"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["type","text","formControlName","nuevoNombre",1,"form-control"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary","btn-sm"],["id","borrarPred","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#actualizarPredeterminado",1,"accion",3,"click"],["id","editar",1,"bx","bx-edit-alt","bx-sm"],["data-bs-toggle","modal","data-bs-target","#borrarPred",1,"accion",3,"click"],["id","borrar",1,"bx","bx-trash","bx-sm"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"MIS ALIMENTOS PREDETERMINADOS"),t.qZA(),t.TgZ(4,"button",3),t._uU(5," Nuevo "),t._UZ(6,"i",4),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"p",5),t._uU(9,"Define alimentos predeterminados que puedes utilizar para llenar el calendario de tus pacientes de forma r\xe1pida y eficiente"),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div",6)(12,"div",7)(13,"table",8)(14,"thead",9)(15,"tr")(16,"th",10),t._uU(17," # "),t.qZA(),t.TgZ(18,"th"),t._uU(19," Alimento predeterminado "),t.qZA(),t.TgZ(20,"th",11),t._uU(21," Acciones "),t.qZA()()(),t.TgZ(22,"tbody",12),t.YNc(23,ut,10,2,"tr",13),t.qZA()()()()(),t.TgZ(24,"form",14)(25,"div",15)(26,"div",16)(27,"div",17)(28,"h5",18),t._uU(29,"Nuevo Predeterminado"),t.qZA(),t.TgZ(30,"button",19),t.NdJ("click",function(){return o.newPredeterminado.reset()}),t.qZA()(),t.TgZ(31,"div",20)(32,"div",21)(33,"label",22),t._uU(34,"Nombre:"),t.qZA(),t._UZ(35,"input",23),t.qZA(),t.TgZ(36,"div",21)(37,"label",22),t._uU(38,"Detalles:"),t.qZA(),t._UZ(39,"textarea",24),t.qZA()(),t.TgZ(40,"div",25)(41,"button",26),t.NdJ("click",function(){return o.newPredeterminado.reset()}),t._uU(42,"Cancelar"),t.qZA(),t.TgZ(43,"button",27),t.NdJ("click",function(){return o.createPredeterminado()})("click",function(){return o.newPredeterminado.reset()}),t._uU(44," Crear "),t.qZA()()()()(),t.TgZ(45,"form",28)(46,"div",15)(47,"div",16)(48,"div",17)(49,"h5",18),t._uU(50,"Actualizar alimento predeterminado"),t.qZA(),t._UZ(51,"button",29),t.qZA(),t.TgZ(52,"div",20)(53,"div",21)(54,"label",22),t._uU(55,"Nombre:"),t.qZA(),t._UZ(56,"input",30),t.qZA(),t.TgZ(57,"div",21)(58,"label",22),t._uU(59,"Detalles:"),t.qZA(),t.TgZ(60,"textarea",24),t._uU(61,"  "),t.qZA()()(),t.TgZ(62,"div",25)(63,"button",31),t._uU(64,"Cancelar"),t.qZA(),t.TgZ(65,"button",27),t.NdJ("click",function(){return o.updatePredeterminado()}),t._uU(66," Actualizar "),t.qZA()()()()(),t.TgZ(67,"div",32)(68,"div",33)(69,"div",16)(70,"div",17)(71,"h5",18),t._uU(72,"\xbfSeguro que lo deseas eliminar?"),t.qZA(),t._UZ(73,"button",29),t.qZA(),t.TgZ(74,"div",20),t._uU(75),t.qZA(),t.TgZ(76,"div",25)(77,"button",31),t._uU(78,"Cancelar"),t.qZA(),t.TgZ(79,"button",34),t.NdJ("click",function(){return o.deletePredeterminado()}),t._uU(80,"Eliminar"),t.qZA()()()()()),2&e&&(t.xp6(23),t.Q6J("ngForOf",o.predeterminados),t.xp6(1),t.Q6J("formGroup",o.newPredeterminado),t.xp6(19),t.Q6J("disabled",o.newPredeterminado.invalid),t.xp6(2),t.Q6J("formGroup",o.upPredeterminado),t.xp6(20),t.Q6J("disabled",o.upPredeterminado.invalid),t.xp6(10),t.hij(' El alimento "',o.nombrePred,'" ser\xe1 eliminado permanentemente . '))},directives:[l.sg,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u],styles:[".container[_ngcontent-%COMP%]{width:100%;height:auto;min-height:calc(100% - 40px);max-height:calc(100% - 20px);overflow-y:auto;margin-top:20px;margin-bottom:20px;padding:20px 30px;background:white;border-radius:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;height:50px;padding-bottom:10px;border-bottom:1px solid #ccc}.header[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#5d5d5d;text-align:center;margin-bottom:0}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.indicador[_ngcontent-%COMP%]{font-size:15px;color:#7c7c7c;font-weight:300}table[_ngcontent-%COMP%]{width:100%;height:auto;max-height:calc(100% - 250px);overflow-y:auto}table[_ngcontent-%COMP%]   .accion[_ngcontent-%COMP%]{border:none;background:none;margin-right:25px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block;max-height:300px;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}#number[_ngcontent-%COMP%]{width:150px;padding-left:30px}#acciones[_ngcontent-%COMP%]{width:350px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500}table[_ngcontent-%COMP%]   #editar[_ngcontent-%COMP%]{color:#005f70}table[_ngcontent-%COMP%]   #borrar[_ngcontent-%COMP%]{color:#ff0000af}textarea[_ngcontent-%COMP%]{min-height:175px}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#255388;box-shadow:none}"]}),n})()},{path:"**",redirectTo:"pacientes"}]}];let _t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(mt)],g.Bz]}),n})();var bt=d(8420);let ht=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,_t,s.u5,bt.q,s.UX]]}),n})()}}]);