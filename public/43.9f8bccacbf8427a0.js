"use strict";(self.webpackChunkjopaka=self.webpackChunkjopaka||[]).push([[43],{1043:(w,x,g)=>{g.r(x),g.d(x,{CuentaNutriModule:()=>te});var u=g(9808),_=g(3075),m=g(1083),e=g(5e3),C=g(3249);function f(i,d){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div",11),e._UZ(3,"img",12),e.qZA(),e.TgZ(4,"div",13)(5,"div",14)(6,"p"),e._uU(7),e.qZA()(),e.TgZ(8,"div",15)(9,"p"),e._uU(10),e.qZA()()(),e.TgZ(11,"div",16)(12,"ul",17)(13,"li")(14,"a",18),e._uU(15,"Informaci\xf3n general"),e.qZA()(),e.TgZ(16,"li")(17,"a",19),e._uU(18,"Configuraci\xf3n de usuario"),e.qZA()(),e.TgZ(19,"li")(20,"a",20),e._uU(21,"Configuraci\xf3n de horarios"),e.qZA()(),e.TgZ(22,"li")(23,"a",21),e._uU(24,"Configuraci\xf3n de servicio"),e.qZA()()()()(),e.TgZ(25,"div",22),e._UZ(26,"router-outlet"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.s9C("src",t.nutriologo.imagen,e.LSH),e.xp6(4),e.AsE(" ",t.nutriologo.nombre," ",t.nutriologo.apellidos," "),e.xp6(3),e.hij(" ",t.nutriologo.correo," ")}}let b=(()=>{class i{constructor(t){this.nutriologoService=t}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sidebar"]],decls:13,vars:1,consts:[[1,"top"],[1,"navbar"],[1,"back"],["routerLink","../"],[1,"bx","bx-left-arrow-circle"],[1,"titulo"],[1,"logo"],["src","assets/img/logo.png","alt",""],["class","content",4,"ngIf"],[1,"content"],[1,"sidebar"],[1,"imagenUsuario"],["alt","",3,"src"],[1,"perfil"],[1,"nombre"],[1,"correo"],[1,"menu"],[1,"links"],["routerLink","overview"],["routerLink","configuracion"],["routerLink","config-horarios"],["routerLink","config-servicio"],[1,"info"]],template:function(t,n){1&t&&(e.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"a",3),e._UZ(5,"i",4),e._uU(6," Regresar "),e.qZA()(),e.TgZ(7,"div",5),e._uU(8," CONFIGURACI\xd3N "),e.qZA(),e.TgZ(9,"div",6)(10,"a",3),e._UZ(11,"img",7),e.qZA()()()(),e.YNc(12,f,27,4,"div",8),e.qZA()),2&t&&(e.xp6(12),e.Q6J("ngIf",n.nutriologo))},directives:[m.yS,u.O5,m.lC],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{min-height:100vh}.material-icons[_ngcontent-%COMP%]{font-family:Material Icons!important}.top[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;height:70px;background:#ffffff;box-shadow:0 1px 5px #0003;z-index:99}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{height:100%;max-width:1250px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;padding:0 50px}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;white-space:nowrap;color:#00367d;font-size:25px;font-weight:400;display:flex;align-items:center}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 10px;font-size:25px}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#005acf;transition:.2s}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;width:auto}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:500;color:#494949}body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:10px;display:flex;width:100%;height:88vh;justify-content:space-between}.content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:500px;padding:20px 0;border-right:1px solid rgb(183,183,183)}.perfil[_ngcontent-%COMP%]{margin-bottom:50px}.sidebar[_ngcontent-%COMP%]   .imagenUsuario[_ngcontent-%COMP%]{width:150px;height:150px;overflow:hidden;margin:40px auto;position:relative;box-shadow:10px 10px 20px #ccc;border-radius:50%}.imagenUsuario[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-100%;right:-100%;margin:auto;height:150px}.nombre[_ngcontent-%COMP%]{font-weight:600;font-size:20px;text-align:center}.correo[_ngcontent-%COMP%]{font-size:15px;text-align:center}.menu[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{line-height:50px;height:100%}.menu[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{align-items:center;list-style:none;padding-left:15px;border-top:.2px solid #ccc;border-bottom:.2px solid #ccc}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%;text-decoration:none;white-space:nowrap;color:#3c3c3c;font-size:17px;font-weight:400}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#3c3c3c;border-left:5px solid rgb(60,60,60);background:rgb(237,237,237)}.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%;height:100%;padding:40px 20px 0 60px;overflow-y:auto}']}),i})();function a(i,d){1&i&&(e.TgZ(0,"div",5),e._uU(1," Adecuado "),e.qZA())}function r(i,d){1&i&&(e.TgZ(0,"div",9),e._uU(1," BANEADO "),e.qZA())}function c(i,d){if(1&i&&(e.TgZ(0,"div",1)(1,"p",2),e._uU(2,"CONFIGURACI\xd3N DEL USUARIO"),e.qZA(),e.TgZ(3,"h4"),e._uU(4,"Informaci\xf3n del usuario"),e.qZA(),e.TgZ(5,"p",2),e._uU(6,"Puedes editar tu nombre, apellidos, celular y foto de perfil."),e.qZA(),e.TgZ(7,"div",3)(8,"div",4),e._uU(9," NOMBRE "),e.qZA(),e.TgZ(10,"div",5),e._uU(11),e.qZA()(),e.TgZ(12,"div",3)(13,"div",4),e._uU(14," APELLIDOS "),e.qZA(),e.TgZ(15,"div",5),e._uU(16),e.qZA()(),e.TgZ(17,"div",3)(18,"div",4),e._uU(19," ESTATUS "),e.qZA(),e.YNc(20,a,2,0,"div",6),e.YNc(21,r,2,0,"div",7),e.qZA(),e.TgZ(22,"div",3)(23,"div",4),e._uU(24," SEXO "),e.qZA(),e.TgZ(25,"div",5),e._uU(26),e.qZA()(),e.TgZ(27,"div",3)(28,"div",4),e._uU(29," CELULAR "),e.qZA(),e.TgZ(30,"div",5),e._uU(31),e.qZA()(),e.TgZ(32,"div",3)(33,"div",4),e._uU(34," CORREO "),e.qZA(),e.TgZ(35,"div",5),e._uU(36),e.qZA()(),e._UZ(37,"br")(38,"br"),e.TgZ(39,"a",8),e._uU(40," Ver m\xe1s en Configuraci\xf3n de datos "),e.qZA()()),2&i){const t=e.oxw();e.xp6(11),e.hij(" ",t.nutriologo.nombre," "),e.xp6(5),e.hij(" ",t.nutriologo.apellidos," "),e.xp6(4),e.Q6J("ngIf",0==t.nutriologo.baneado),e.xp6(1),e.Q6J("ngIf",1==t.nutriologo.baneado),e.xp6(5),e.hij(" ",t.nutriologo.sexo," "),e.xp6(5),e.hij(" ",t.nutriologo.celular," "),e.xp6(5),e.hij(" ",t.nutriologo.correo," ")}}let p=(()=>{class i{constructor(t){this.nutriologoService=t}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-info-general"]],decls:6,vars:1,consts:[["class","info",4,"ngIf"],[1,"info"],[1,"small"],[1,"data"],[1,"campo"],[1,"detalle"],["class","detalle",4,"ngIf"],["class","detalle","style","color: red;",4,"ngIf"],["routerLink","../configuracion"],[1,"detalle",2,"color","red"]],template:function(t,n){1&t&&(e.TgZ(0,"h4"),e._uU(1,"Informaci\xf3n general"),e.qZA(),e.TgZ(2,"p"),e._uU(3,"Un lugar para administrar y configurar tu informaci\xf3n."),e.qZA(),e._UZ(4,"br"),e.YNc(5,c,41,7,"div",0)),2&t&&(e.xp6(5),e.Q6J("ngIf",n.nutriologo))},directives:[u.O5,m.yS],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.info[_ngcontent-%COMP%]{width:550px;height:auto;border:.5px solid rgb(207,207,207);border-radius:5px;padding:20px 30px;position:relative}.info[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:12px;color:#a5a5a5}.info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.info[_ngcontent-%COMP%]   .data_container[_ngcontent-%COMP%]{width:calc(100% + 15px);max-height:230px;overflow-y:auto;padding-right:15px}.data[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:40px;border-bottom:.5px solid #ccc}.data[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{font-size:14px;color:#787878;width:40%}.data[_ngcontent-%COMP%]   .detalle[_ngcontent-%COMP%]{font-size:15px;color:#404040;width:100%;font-weight:400}.info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;text-decoration:none;top:calc(100% - 40px);left:calc(100% - 300px);font-weight:600;font-size:15px}"]}),i})();var h=g(5861),M=g(87),Z=g(7261),O=g(7531),T=g(9814),k=g(773);function y(i,d){1&i&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2," No puedes acceder a tu configuraci\xf3n debido a que tu cuenta se encuentra temporalmente suspendida. "),e._UZ(3,"br"),e._uU(4," As\xed mismo, "),e.TgZ(5,"b"),e._uU(6,"NO"),e.qZA(),e._uU(7," puedes recibir nuevas consultas."),e._UZ(8,"br")(9,"br"),e._uU(10," Si deseas saber el motivo o realizar alguna aclaraci\xf3n: "),e.TgZ(11,"a",9),e._uU(12,"Contacta aqu\xed a un administrador"),e.qZA()()())}function q(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"button",38),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(19);return e.oxw(2).generarCodigo(o.value)})("click",function(){return e.CHM(t),e.oxw(3).counter=1}),e._uU(2,"Enviar c\xf3digo"),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("disabled",t.deshabilitar)}}function N(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"h4"),e._uU(2,"VALIDACI\xd3N DE CELULAR"),e.qZA(),e.TgZ(3,"div",11)(4,"span",12),e._uU(5,"Token"),e.qZA(),e.TgZ(6,"form",39)(7,"div",15)(8,"div",40),e._UZ(9,"input",41,42),e.qZA(),e.TgZ(11,"div",43)(12,"div",44)(13,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(10);return e.oxw(3).verificarCodigo(o.value)}),e._uU(14,"Verificar token"),e.qZA()(),e.TgZ(15,"div",37)(16,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).start()})("click",function(){e.CHM(t),e.oxw();const o=e.MAs(19);return e.oxw(2).generarCodigo(o.value)}),e._uU(17,"Reenviar c\xf3digo"),e.qZA()(),e.TgZ(18,"div",45)(19,"p"),e._uU(20),e.qZA()()()()()()()}if(2&i){const t=e.MAs(10),n=e.oxw(3);e.xp6(6),e.Q6J("formGroup",n.tokenFormGroup),e.xp6(7),e.Q6J("disabled",t.value.length<6),e.xp6(3),e.Q6J("disabled",n.deshabilitar||0==n.counter),e.xp6(4),e.hij(" ",n.segundos," seg")}}function S(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"h4"),e._uU(2,"Configuraci\xf3n de perf\xedl"),e.qZA(),e.TgZ(3,"div",10)(4,"h4"),e._uU(5,"DATOS GENERALES"),e.qZA(),e.TgZ(6,"div",11)(7,"span",12),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",13),e.qZA(),e.TgZ(10,"div",11)(11,"span",12),e._uU(12,"Apellidos"),e.qZA(),e._UZ(13,"input",14),e.qZA(),e.TgZ(14,"div",11)(15,"span",12),e._uU(16,"N\xfamero celular"),e.qZA(),e.TgZ(17,"div",15),e._UZ(18,"input",16,17),e.YNc(20,q,3,1,"div",18),e.qZA()(),e.TgZ(21,"div",11)(22,"span",12),e._uU(23,"Sexo"),e.qZA(),e._UZ(24,"br")(25,"br"),e.TgZ(26,"mat-radio-group",19)(27,"mat-radio-button",20),e._uU(28,"Hombre"),e.qZA(),e.TgZ(29,"mat-radio-button",21),e._uU(30,"Mujer"),e.qZA()()()(),e.YNc(31,N,21,4,"div",22),e._UZ(32,"hr"),e.TgZ(33,"div",10)(34,"h4"),e._uU(35,"FOTO DE PERFIL"),e.qZA(),e.TgZ(36,"input",23),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).onFileChange(o)}),e.qZA()(),e._UZ(37,"hr"),e.TgZ(38,"div",10)(39,"h4"),e._uU(40,"ELIMINAR CUENTA"),e.qZA(),e.TgZ(41,"div",24)(42,"p"),e._uU(43,"Si borras tu cuenta de JOPAKA, tus datos desaparecer\xe1n para siempre."),e.qZA(),e.TgZ(44,"button",25),e._uU(45,"Eliminar cuenta"),e.qZA(),e.TgZ(46,"div",26)(47,"div",27)(48,"div",28)(49,"div",29)(50,"h6",30),e._uU(51),e.qZA(),e._UZ(52,"button",31),e.qZA(),e.TgZ(53,"div",32)(54,"ul",33),e._UZ(55,"br"),e.TgZ(56,"li"),e._uU(57,"Todo tu registro ser\xe1 eliminado, incluidos los compartidos con otros usuarios, se eliminar\xe1n de forma permanente. "),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"li"),e._uU(60,"Perder\xe1s el acceso a JOPAKA."),e.qZA()()(),e.TgZ(61,"div",34)(62,"button",35),e._uU(63,"Volver a mi cuenta"),e.qZA(),e.TgZ(64,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deleteNutriologo()}),e._uU(65,"Continuar con la eliminaci\xf3n de mi cuenta"),e.qZA()()()()()()()()}if(2&i){const t=e.oxw(2);e.xp6(9),e.s9C("value",t.nutriologo.nombre),e.xp6(4),e.s9C("value",t.nutriologo.apellidos),e.xp6(5),e.s9C("value",t.nutriologo.celular),e.xp6(2),e.Q6J("ngIf",t.nutriologo.celular!=t.configFormGroup.value.celular&&0==t.counter),e.xp6(6),e.s9C("value",t.nutriologo.sexo),e.xp6(5),e.Q6J("ngIf",t.nutriologo.celular!=t.configFormGroup.value.celular),e.xp6(20),e.hij("\xbfConfirmas que quieres eliminar tu cuenta vinculada a ",t.nutriologo.correo,"? ")}}function J(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4"),e._uU(4,"Configuraci\xf3n de usuario"),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateNutriologo()}),e._uU(6," Guardar cambios "),e.qZA()(),e.TgZ(7,"p"),e._uU(8,"Cualquier cambio que hagas se aplicar\xe1 en tu cuenta JOPAKA"),e.qZA(),e._UZ(9,"br"),e.qZA(),e.YNc(10,y,13,0,"div",6),e.YNc(11,S,66,7,"div",6),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.configFormGroup),e.xp6(5),e.Q6J("disabled",t.nutriologo.nombre==t.configFormGroup.value.nombre&&t.nutriologo.apellidos==t.configFormGroup.value.apellidos&&t.nutriologo.celular==t.configFormGroup.value.celular&&t.nutriologo.sexo==t.configFormGroup.value.sexo&&""==t.configFormGroup.value.imagen||t.nutriologo.celular!=t.configFormGroup.value.celular&&1==t.tokenValido||t.celular!=t.configFormGroup.value.celular&&0==t.tokenValido),e.xp6(5),e.Q6J("ngIf",1==t.nutriologo.baneado),e.xp6(1),e.Q6J("ngIf",0==t.nutriologo.baneado)}}function I(i,d){1&i&&(e.TgZ(0,"div",46),e._UZ(1,"mat-spinner"),e.qZA())}let F=(()=>{class i{constructor(t,n,o,l){this.nutriologoService=t,this.usuarioService=n,this._formBuilder=o,this._snackBar=l,this.spinner=!1,this.snackbarMeesage="",this.segundos=0,this.espera=20,this.datosValido=!0,this.deshabilitar=!1,this.tokenValido=!0,this.counter=0,this.date=new Date,this.formSubmitted=!1,this.configFormGroup=this._formBuilder.group({}),this.tokenFormGroup=this._formBuilder.group({codigo:["",[_.kI.required,_.kI.minLength(6)]]})}ngOnInit(){this.token=localStorage.getItem("token"),this.getNutriologo()}getNutriologo(){this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t,complete:()=>{this.configFormGroup=this._formBuilder.group({nombre:[this.nutriologo.nombre],apellidos:[this.nutriologo.apellidos],celular:[this.nutriologo.celular],sexo:[this.nutriologo.sexo],imagen:[""]}),console.log(this.configFormGroup.value,this.nutriologo)}})}onFileChange(t){t.target.files.length>0&&this.configFormGroup.patchValue({imagen:t.target.files[0]})}clearPreview(t){t.input.value=null,this.configFormGroup.patchValue({imagen:[""]})}updateNutriologo(){this.token=localStorage.getItem("token"),console.log(this.configFormGroup.value),this.nutriologoService.updateNutriologo(this.token,this.configFormGroup.value,this.nutriologo).subscribe({next:t=>{console.log(t)},complete:()=>this.refresh(),error:t=>{console.error("There was an error!",t),this.snackbarMeesage="\u274c Error, celular ya registrado en otra cuenta ",this.openSnackBar()}})}deleteNutriologo(){this.nutriologoService.deleteNutriologo(this.token).subscribe({next:t=>{console.log(t),this.snackbarMeesage="\u2714 Tu cuenta ha sido eliminada",this.openSnackBar()},error:()=>{this.snackbarMeesage="\u274c Error, no pudimos eliminar tu cuenta",this.openSnackBar()}})}openSnackBar(){this._snackBar.open(this.snackbarMeesage,"\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}refresh(){var t=this;return(0,h.Z)(function*(){t.spinner=!0,""!=t.configFormGroup.value.imagen?(yield new Promise(n=>setTimeout(n,4e3)),window.location.reload()):yield new Promise(n=>setTimeout(n,1500)),t.getNutriologo(),t.spinner=!1,t.snackbarMeesage="\u2705 Se han guardado los cambios",t.openSnackBar()})()}updateTimer(){this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(this.segundos),this.date.setMilliseconds(0);const t=this.date.getTime();this.date.setTime(t-1e3),this.segundos=this.date.getSeconds(),0===this.date.getSeconds()&&(this.deshabilitar=!1,this.stop())}stop(){clearInterval(this.timer)}start(){this.segundos=this.espera,this.segundos>0&&(this.deshabilitar=!0,this.updateTimer(),this.timer=setInterval(()=>{this.updateTimer()},1e3))}generarCodigo(t){1==this.tokenValido&&this.start(),this.celular=t,this.usuarioService.generarCodigo(t).subscribe()}verificarCodigo(t){console.log(this.celular),console.log(t),this.usuarioService.verificarCodigo(this.celular,t).subscribe({next:n=>this.veriCode=n,complete:()=>{"approved"===this.veriCode.status?(this.tokenValido=!1,this.deshabilitar=!1,this.tokenFormGroup.reset(),this.counter=0,this.snackbarMeesage="\u2705 C\xf3digo v\xe1lido ",this.openSnackBar()):(this.snackbarMeesage="\u274c C\xf3digo inv\xe1lido ",this.openSnackBar())},error:n=>{console.log("HTTP Error",n),this.snackbarMeesage="\u274c Ocurri\xf3 un error al hacer la validaci\xf3n",this.openSnackBar()}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.l),e.Y36(M.i),e.Y36(_.qu),e.Y36(Z.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-configuracion"]],decls:2,vars:2,consts:[["action","#","autocomplete","off","class","container",3,"formGroup",4,"ngIf"],["class","spinner",4,"ngIf"],["action","#","autocomplete","off",1,"container",3,"formGroup"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","config",4,"ngIf"],[1,"config"],["role","alert",1,"alert","alert-danger"],["href","mailto:miguelgodiglez12@gmail.com?Subject=Motivo%20de%20baneo%20JOPAKA","target","_blank"],[1,"user-details"],[1,"input-box"],[1,"detail"],["matInput","","type","text","formControlName","nombre","placeholder","Ingresa tu nombre",3,"value"],["matInput","","type","text","formControlName","apellidos","placeholder","Ingresa tus apellidos",3,"value"],[1,"input-token"],["matInput","","type","number","formControlName","celular","placeholder","Ingresa tu n\xfamero celular",3,"value"],["cel",""],["class","check-button",4,"ngIf"],["matInput","","aria-label","Select an option","formControlName","sexo",3,"value"],["value","Hombre"],["value","Mujer"],["class","user-details",4,"ngIf"],["type","file","accept","image/png,image/jpeg",3,"change"],[1,"deleat"],["data-bs-toggle","modal","data-bs-target","#confirmDeleat",1,"btn","btn-outline-danger"],["id","confirmDeleat","tabindex","-1","aria-labelledby","confirmDeleat","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,""],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary","btn-sm"],["type","button","data-bs-dismiss","modal","routerLink","../../../../jopaka",1,"btn","btn-primary","btn-sm",3,"click"],[1,"check-button"],[3,"disabled","click"],["autocomplete","off",3,"formGroup"],[1,"token"],["matInput","","formControlName","codigo","type","number","placeholder","Ingresa el token enviado via SMS",1,"entrada"],["token",""],[1,"reenviar"],[1,"check-button","check-code"],[1,"segundos"],[1,"spinner"]],template:function(t,n){1&t&&(e.YNc(0,J,12,4,"form",0),e.YNc(1,I,2,0,"div",1)),2&t&&(e.Q6J("ngIf",n.nutriologo),e.xp6(1),e.Q6J("ngIf",n.spinner))},directives:[u.O5,_._Y,_.JL,_.sg,O.Nt,_.Fj,_.JJ,_.u,_.wV,T.VQ,T.U0,m.rH,k.Ou],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{margin:0;font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{width:calc(100% + 32px);height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto}.config[_ngcontent-%COMP%]   .alert-danger[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 10px;text-decoration:none;font-weight:600;color:brown}.config[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.user-details[_ngcontent-%COMP%]{width:100%;padding-top:20px;padding-bottom:5px}.user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#a5a5a5}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:15px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{color:#494949;font-size:14px;font-weight:400;margin-bottom:5px;width:200px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px;width:300px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#255388}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}[type=file][_ngcontent-%COMP%]{color:#878787}[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{background:#46acff;border:1px solid #46acff;border-radius:4px;color:#fff;cursor:pointer;font-size:13px;outline:none;padding:10px 20px;text-transform:uppercase;-webkit-transition:all .5s ease;transition:all .5s ease;margin-right:20px}[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button:hover{background:#1b8eed;border:1px solid #1b8eed}.deleat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.deleat[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:300px}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}.input-token[_ngcontent-%COMP%]{display:flex;align-items:center}.input-token[_ngcontent-%COMP%]   .reenviar[_ngcontent-%COMP%]{margin:auto;display:flex;justify-content:center;align-items:center}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:30px;margin:0 15px;font-size:12px;border:none;border-radius:5px}.input-token[_ngcontent-%COMP%]   .check-code[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(199,255,169,.493)}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(227,227,227)}.input-token[_ngcontent-%COMP%]   .check-code[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(199,255,169,.982)}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#f6f6f6;color:#d6d6d6}.input-token[_ngcontent-%COMP%]   .segundos[_ngcontent-%COMP%]{margin:0 10px;font-size:30px}"]}),i})();var H=g(7446);function G(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"h5"),e._uU(3),e.qZA(),e._UZ(4,"hr"),e.qZA(),e.TgZ(5,"div",9)(6,"p")(7,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["7:00"]=o}),e._uU(8," 07:00"),e.qZA()(),e.TgZ(9,"p")(10,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["7:30"]=o}),e._uU(11," 07:30"),e.qZA()(),e.TgZ(12,"p")(13,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["8:00"]=o}),e._uU(14," 08:00"),e.qZA()(),e.TgZ(15,"p")(16,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["8:30"]=o}),e._uU(17," 08:30"),e.qZA()(),e.TgZ(18,"p")(19,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["9:00"]=o}),e._uU(20," 09:00"),e.qZA()(),e.TgZ(21,"p")(22,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["9:30"]=o}),e._uU(23," 09:30"),e.qZA()(),e.TgZ(24,"p")(25,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["10:00"]=o}),e._uU(26,"10:00"),e.qZA()(),e.TgZ(27,"p")(28,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["10:30"]=o}),e._uU(29,"10:30"),e.qZA()(),e.TgZ(30,"p")(31,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["11:00"]=o}),e._uU(32,"11:00"),e.qZA()(),e.TgZ(33,"p")(34,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["11:30"]=o}),e._uU(35,"11:30"),e.qZA()(),e.TgZ(36,"p")(37,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["12:00"]=o}),e._uU(38,"12:00"),e.qZA()(),e.TgZ(39,"p")(40,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["12:30"]=o}),e._uU(41,"12:30"),e.qZA()(),e.TgZ(42,"p")(43,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["13:00"]=o}),e._uU(44,"13:00"),e.qZA()(),e.TgZ(45,"p")(46,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["13:30"]=o}),e._uU(47,"13:30"),e.qZA()(),e.TgZ(48,"p")(49,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["14:00"]=o}),e._uU(50,"14:00"),e.qZA()(),e.TgZ(51,"p")(52,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["14:30"]=o}),e._uU(53,"14:30"),e.qZA()(),e.TgZ(54,"p")(55,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["15:00"]=o}),e._uU(56,"15:00"),e.qZA()(),e.TgZ(57,"p")(58,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["15:30"]=o}),e._uU(59,"15:30"),e.qZA()(),e.TgZ(60,"p")(61,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["16:00"]=o}),e._uU(62,"16:00"),e.qZA()(),e.TgZ(63,"p")(64,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["16:30"]=o}),e._uU(65,"16:30"),e.qZA()(),e.TgZ(66,"p")(67,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["17:00"]=o}),e._uU(68,"17:00"),e.qZA()(),e.TgZ(69,"p")(70,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["17:30"]=o}),e._uU(71,"17:30"),e.qZA()(),e.TgZ(72,"p")(73,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["18:00"]=o}),e._uU(74,"18:00"),e.qZA()(),e.TgZ(75,"p")(76,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["18:30"]=o}),e._uU(77,"18:30"),e.qZA()(),e.TgZ(78,"p")(79,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["19:00"]=o}),e._uU(80,"19:00"),e.qZA()(),e.TgZ(81,"p")(82,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["19:30"]=o}),e._uU(83,"19:30"),e.qZA()(),e.TgZ(84,"p")(85,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["20:00"]=o}),e._uU(86,"20:00"),e.qZA()(),e.TgZ(87,"p")(88,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["20:30"]=o}),e._uU(89,"20:30"),e.qZA()(),e.TgZ(90,"p")(91,"mat-checkbox",10),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit["21:00"]=o}),e._uU(92,"21:00"),e.qZA()()()()}if(2&i){const t=d.$implicit,n=d.index,o=e.oxw();e.xp6(3),e.hij(" ",o.diasSemana[n]," "),e.xp6(4),e.Q6J("ngModel",t["7:00"]),e.xp6(3),e.Q6J("ngModel",t["7:30"]),e.xp6(3),e.Q6J("ngModel",t["8:00"]),e.xp6(3),e.Q6J("ngModel",t["8:30"]),e.xp6(3),e.Q6J("ngModel",t["9:00"]),e.xp6(3),e.Q6J("ngModel",t["9:30"]),e.xp6(3),e.Q6J("ngModel",t["10:00"]),e.xp6(3),e.Q6J("ngModel",t["10:30"]),e.xp6(3),e.Q6J("ngModel",t["11:00"]),e.xp6(3),e.Q6J("ngModel",t["11:30"]),e.xp6(3),e.Q6J("ngModel",t["12:00"]),e.xp6(3),e.Q6J("ngModel",t["12:30"]),e.xp6(3),e.Q6J("ngModel",t["13:00"]),e.xp6(3),e.Q6J("ngModel",t["13:30"]),e.xp6(3),e.Q6J("ngModel",t["14:00"]),e.xp6(3),e.Q6J("ngModel",t["14:30"]),e.xp6(3),e.Q6J("ngModel",t["15:00"]),e.xp6(3),e.Q6J("ngModel",t["15:30"]),e.xp6(3),e.Q6J("ngModel",t["16:00"]),e.xp6(3),e.Q6J("ngModel",t["16:30"]),e.xp6(3),e.Q6J("ngModel",t["17:00"]),e.xp6(3),e.Q6J("ngModel",t["17:30"]),e.xp6(3),e.Q6J("ngModel",t["18:00"]),e.xp6(3),e.Q6J("ngModel",t["18:30"]),e.xp6(3),e.Q6J("ngModel",t["19:00"]),e.xp6(3),e.Q6J("ngModel",t["19:30"]),e.xp6(3),e.Q6J("ngModel",t["20:00"]),e.xp6(3),e.Q6J("ngModel",t["20:30"]),e.xp6(3),e.Q6J("ngModel",t["21:00"])}}function E(i,d){1&i&&(e.TgZ(0,"div",11),e._UZ(1,"mat-spinner"),e.qZA())}let $=(()=>{class i{constructor(t,n){this.nutriologoService=t,this._snackBar=n,this.spinner=!1,this.horarios=[],this.diasSemana=["LUNES","MARTES","MI\xc9RCOLES","JUEVES","VIERNES","S\xc1BADO","DOMINGO"]}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t,complete:()=>{this.horarios=this.nutriologo.configuracion_fechas}}),"1"==localStorage.getItem("succes")&&this.openSnackBar()}updateHorario(){console.log(this.horarios),this.nutriologoService.updateHorario(this.token,this.horarios).subscribe({next:t=>{console.log(t),this.refresh()},error:t=>{console.error("There was an error!",t),this.openSnackBarBad()}})}openSnackBarBad(){this._snackBar.open("\u274c Ocurri\xf3 un error, al guardar los cambios ","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}openSnackBar(){this._snackBar.open("\u2705 Se han guardado el horario","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3}),localStorage.removeItem("succes")}refresh(){var t=this;return(0,h.Z)(function*(){t.spinner=!0,yield new Promise(n=>setTimeout(n,1500)),t.spinner=!1,localStorage.setItem("succes","1"),window.location.reload()})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.l),e.Y36(Z.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-config-horarios"]],decls:16,vars:2,consts:[[1,"container"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"click"],[1,"config"],["class","horarios",4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],[1,"horarios"],[1,"dia"],[1,"horario"],[3,"ngModel","ngModelChange"],[1,"spinner"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"Configuraci\xf3n de horarios"),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.updateHorario()}),e._uU(6," Guardar cambios "),e.qZA()(),e.TgZ(7,"p"),e._uU(8,"Configura tu horario, de acuerdo a los d\xecas de los dias de la semana, marcando las casillas en las que deseas tener consultas "),e.TgZ(9,"b"),e._uU(10,"(Visible por 30 d\xedas)"),e.qZA(),e._uU(11,"."),e.qZA(),e._UZ(12,"br"),e.qZA(),e.TgZ(13,"div",4),e.YNc(14,G,93,30,"div",5),e.qZA()(),e.YNc(15,E,2,0,"div",6)),2&t&&(e.xp6(14),e.Q6J("ngForOf",n.horarios),e.xp6(1),e.Q6J("ngIf",n.spinner))},directives:[u.sg,H.oG,_.JJ,_.On,u.O5,k.Ou],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:600px;margin-bottom:0}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{min-width:calc(100% + 32px);width:auto;height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto;overflow-x:auto;display:flex;justify-content:space-between}.horarios[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgb(255,199,31);border-radius:10px;padding:15px;margin-right:15px;display:flex;flex-direction:column;text-align:center}.horarios[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;border-bottom:1px solid #ccc;height:30px;margin-bottom:10px}.horarios[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px;font-weight:400}.horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}"]}),i})();var P=g(1159),j=g(8675),Q=g(4004),U=g(7322),v=g(6688),z=g(5245),A=g(1079),B=g(508),D=g(2368);const L=["categoryInput"];function R(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",23),e.NdJ("removed",function(){const l=e.CHM(t).$implicit;return e.oxw(2).remove(l)}),e._uU(1),e.TgZ(2,"button",24)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&i){const t=d.$implicit;e.xp6(1),e.hij(" ",t," ")}}function W(i,d){if(1&i&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&i){const t=d.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Y(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4"),e._uU(4,"Configuraci\xf3n de perfil profesional"),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateServicio()}),e._uU(6," Guardar cambios "),e.qZA()(),e.TgZ(7,"p"),e._uU(8,"La informaci\xf3n aqu\xed configurada ser\xe1 o no mostrada en el apartado de b\xfasqueda"),e.qZA(),e._UZ(9,"br"),e.qZA(),e.TgZ(10,"div",6)(11,"h4"),e._uU(12,"Configuraci\xf3n de servicio"),e.qZA(),e.TgZ(13,"div",7)(14,"h4"),e._uU(15,"DATOS A MOSTRAR"),e.qZA(),e.TgZ(16,"div",8)(17,"span",9),e._uU(18,"Precio por consulta $ (MXN)"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",8)(21,"span",9),e._uU(22,"Descipci\xf3n, especialidades"),e.qZA(),e._UZ(23,"textarea",11),e.qZA(),e.TgZ(24,"div",8)(25,"span",9),e._uU(26,"Indicaciones"),e.qZA(),e._UZ(27,"textarea",12),e.qZA()(),e._UZ(28,"hr"),e.TgZ(29,"div",7)(30,"h4"),e._uU(31,"CATEGOR\xcdAS"),e.qZA(),e.TgZ(32,"mat-form-field",13)(33,"mat-label"),e._uU(34,"Categor\xedas en las que participo"),e.qZA(),e.TgZ(35,"mat-chip-list",14,15),e.YNc(37,R,5,1,"mat-chip",16),e._UZ(38,"input",17,18),e.qZA(),e.TgZ(40,"mat-autocomplete",19,20),e.NdJ("optionSelected",function(o){return e.CHM(t),e.oxw().selected(o)}),e.YNc(42,W,2,2,"mat-option",21),e.ALo(43,"async"),e.qZA()()(),e._UZ(44,"hr"),e.TgZ(45,"div",7)(46,"h4"),e._uU(47,"VISIBILIDAD"),e.qZA(),e.TgZ(48,"div",8)(49,"span",9),e._uU(50,"Visibilidad en el buscador"),e.qZA(),e._UZ(51,"mat-slide-toggle",22),e.qZA()(),e._UZ(52,"hr"),e.TgZ(53,"div",7)(54,"h4")(55,"b"),e._uU(56,"NOTAS:"),e.qZA()(),e.TgZ(57,"ul")(58,"li"),e._uU(59,"Las categorias le permiten al cliente hacer filtrado en las b\xfasquedas. Por lo tanto, elige las categorias de acuerdo a tus especialidades con el fin de posicionarte de forma adecuada en los resultados de b\xfasqueda. "),e.qZA(),e.TgZ(60,"li"),e._uU(61," Activar o desactivar tu visibilidad significa aparecer o no el el buscador. Esta herramienta es util en caso de que no quieras recibir m\xe1s consultas. Como nota, esta funci\xf3n se desactiva si la dem\xe1s informaci\xf3n est\xe1 vacia o es incorrecta. "),e.qZA()()()()()}if(2&i){const t=e.MAs(36),n=e.MAs(41),o=e.oxw();e.Q6J("formGroup",o.configFormGroup),e.xp6(5),e.Q6J("disabled",o.nutriologo.precio==o.configFormGroup.value.precio&&0==o.changeCategories&&o.nutriologo.descripcion==o.configFormGroup.value.descripcion&&o.nutriologo.indicaciones==o.configFormGroup.value.indicaciones&&o.nutriologo.activo==o.configFormGroup.value.activo||""==o.configFormGroup.value.descripcion||0==o.categories.length&&1==o.configFormGroup.value.activo||o.configFormGroup.value.precio<=0),e.xp6(14),e.MGl("value"," ",o.nutriologo.precio," "),e.xp6(4),e.MGl("value"," ",o.nutriologo.descripcion," "),e.xp6(4),e.MGl("value"," ",o.nutriologo.indicaciones," "),e.xp6(10),e.Q6J("ngForOf",o.categories),e.xp6(1),e.Q6J("formControl",o.categoryCtrl)("matAutocomplete",n)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",o.separatorKeysCodes),e.xp6(4),e.Q6J("ngForOf",e.lcZ(43,12,o.filteredCategories)),e.xp6(9),e.Q6J("disabled",""==o.configFormGroup.value.descripcion||0==o.categories.length&&0==o.configFormGroup.value.activo||o.configFormGroup.value.precio<=0)}}function V(i,d){1&i&&(e.TgZ(0,"div",26),e._UZ(1,"mat-spinner"),e.qZA())}const K=[{path:"",component:b,children:[{path:"overview",component:p},{path:"configuracion",component:F},{path:"config-horarios",component:$},{path:"config-servicio",component:(()=>{class i{constructor(t,n,o){this.nutriologoService=t,this._formBuilder=n,this._snackBar=o,this.spinner=!1,this.isChecked=!0,this.formSubmitted=!1,this.configFormGroup=this._formBuilder.group({}),this.separatorKeysCodes=[P.K5,P.OC],this.categoryCtrl=new _.NI,this.categories=[],this.changeCategories=!1,this.allCategories=["Obesidad","Vegetariano","Vegano","Diabetes","Transtornos alimenticios","Deportivo"],this.filteredCategories=this.categoryCtrl.valueChanges.pipe((0,j.O)(null),(0,Q.U)(l=>l?this._filter(l):this.allCategories.slice()))}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:t=>this.nutriologo=t,complete:()=>{this.configFormGroup=this._formBuilder.group({precio:[this.nutriologo.precio],descripcion:[this.nutriologo.descripcion],activo:[this.nutriologo.activo],indicaciones:[this.nutriologo.indicaciones],especialidades:[this.nutriologo.especialidades]}),console.log(this.configFormGroup.value),null!=this.nutriologo.especialidades&&(this.categories=this.nutriologo.especialidades)}}),"1"==localStorage.getItem("bienGuardado")&&this.openSnackBar()}updateServicio(){console.log(this.configFormGroup.value),this.nutriologoService.updateServicio(this.token,this.configFormGroup.value).subscribe({next:t=>{console.log(t),this.refresh()},error:t=>{console.error("There was an error!",t),this.openSnackBarBad()}})}openSnackBarBad(){this._snackBar.open("\u274c Ocurri\xf3 un error, no se pudieron guardar los cambios ","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}openSnackBar(){this._snackBar.open("\u2705 Se han guardado los cambios","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3}),localStorage.removeItem("bienGuardado")}refresh(){var t=this;return(0,h.Z)(function*(){t.spinner=!0,yield new Promise(n=>setTimeout(n,1500)),t.spinner=!1,localStorage.setItem("bienGuardado","1"),window.location.reload()})()}remove(t){const n=this.categories.indexOf(t);n>=0&&(this.categories.splice(n,1),this.configFormGroup.value.especialidades=this.categories,this.changeCategories=!0)}selected(t){-1==this.categories.indexOf(t.option.viewValue)&&this.categories.push(t.option.viewValue),this.configFormGroup.value.especialidades=this.categories,this.changeCategories=!0,this.categoryInput.nativeElement.value="",this.categoryCtrl.setValue(null)}_filter(t){const n=t.toLowerCase();return this.allCategories.filter(o=>o.toLowerCase().includes(n))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.l),e.Y36(_.qu),e.Y36(Z.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-config-servicios"]],viewQuery:function(t,n){if(1&t&&e.Gf(L,5),2&t){let o;e.iGM(o=e.CRH())&&(n.categoryInput=o.first)}},decls:2,vars:2,consts:[["action","#","autocomplete","off","class","container",3,"formGroup",4,"ngIf"],["class","spinner",4,"ngIf"],["action","#","autocomplete","off",1,"container",3,"formGroup"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"config"],[1,"user-details"],[1,"input-box"],[1,"detail"],["matInput","","type","number","formControlName","precio","placeholder","Establece tu precio por consulta",3,"value"],["matInput","","id","texto","formControlName","descripcion","maxlength","300","placeholder","Anota aqu\xed tus estudios y/o especialidades para que los clientes te conozcan mejor.",3,"value"],["matInput","","id","texto","formControlName","indicaciones","maxlength","300","placeholder","Puedes dar indicaciones previas a la consulta, como pesarse, medir su altura, etc.",3,"value"],["appearance","fill",1,"example-chip-list"],["aria-label","Category selection"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","Agregar categoria...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["categoryInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formControlName","activo",3,"disabled"],[3,"removed"],["matChipRemove",""],[3,"value"],[1,"spinner"]],template:function(t,n){1&t&&(e.YNc(0,Y,62,14,"form",0),e.YNc(1,V,2,0,"div",1)),2&t&&(e.Q6J("ngIf",n.nutriologo),e.xp6(1),e.Q6J("ngIf",n.spinner))},directives:[u.O5,_._Y,_.JL,_.sg,O.Nt,_.wV,_.Fj,_.JJ,_.u,_.nD,U.KE,U.hX,v.qn,u.sg,v.HS,v.qH,z.Hw,A.ZL,v.oH,_.oH,A.XC,B.ey,D.Rr,k.Ou],pipes:[u.Ov],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{width:calc(100% + 32px);height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto}.config[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.user-details[_ngcontent-%COMP%]{width:100%;padding-top:20px;padding-bottom:5px}.user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#a5a5a5}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:20px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{color:#494949;font-size:14px;font-weight:400;margin-bottom:5px;width:250px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px;width:300px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:150px;max-height:150px;width:500px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;padding-top:5px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#255388}.example-chip-list[_ngcontent-%COMP%]{width:100%}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}"]}),i})()},{path:"**",redirectTo:"overview"}]}];let X=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.Bz.forChild(K)],m.Bz]}),i})();var ee=g(8420);let te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez,X,_.u5,ee.q,_.UX]]}),i})()},3249:(w,x,g)=>{g.d(x,{l:()=>C});var u=g(520),_=g(2340),m=g(5e3),e=g(1083);let C=(()=>{class f{constructor(a,r){this.http=a,this.router=r,this.baseUrl=_.N.baseUrl,this.apiUrl=`${this.baseUrl}/nutriologo`}getNotificaciones(a){return this.http.get(`${this.apiUrl}/notificaciones`,{headers:(new u.WM).set("jopakatoken",a)})}putNotificaciones(a){return this.http.put(`${this.apiUrl}/notificaciones`,"",{headers:(new u.WM).set("jopakatoken",a)})}deleteNotificaciones(a,r){return this.http.delete(`${this.apiUrl}/notificaciones?index=${r}`,{headers:(new u.WM).set("jopakatoken",a)})}getPacientes(a){return this.http.get(`${this.apiUrl}/pacientes`,{headers:(new u.WM).set("jopakatoken",a)})}getDietas(a,r){return this.http.get(`${this.apiUrl}/dietas?id=${r}`,{headers:(new u.WM).set("jopakatoken",a)})}getDieta(a,r,c){return this.http.get(`${this.apiUrl}/historial?indice=${r}&id=${c}`,{responseType:"arraybuffer",headers:(new u.WM).set("jopakatoken",a)})}getPredeterminados(a){return this.http.get(`${this.apiUrl}/predeterminado`,{headers:(new u.WM).set("jopakatoken",a)})}createPredeterminado(a,r){return this.http.post(`${this.apiUrl}/predeterminado`,r,{headers:(new u.WM).set("jopakatoken",a)})}updatePredeterminado(a,r,c){return this.http.put(`${this.apiUrl}/predeterminado`,{nombreAnterior:r,nuevoNombre:c.nuevoNombre,texto:c.texto},{headers:(new u.WM).set("jopakatoken",a)})}deletePredeterminado(a,r){return this.http.delete(`${this.apiUrl}/predeterminado?index=${r}`,{headers:(new u.WM).set("jopakatoken",a)})}getChatData(a,r){return this.http.get(`${this.apiUrl}/servicioChat`,{headers:(new u.WM).set("jopakatoken",a),params:(new u.LE).set("id_servicio",r)})}getReportesMotivo(a){return this.http.get(`${this.apiUrl}/motivos`,{headers:(new u.WM).set("jopakatoken",a)})}putReporte(a,r){return this.http.put(`${this.apiUrl}/reportar?`,r,{headers:(new u.WM).set("jopakatoken",a)})}getCalendarioPDF(a){return this.http.get(`${this.apiUrl}/calendario/PDF`,{responseType:"arraybuffer",headers:(new u.WM).set("jopakatoken",a)})}getCitas(a){return this.http.get(`${this.apiUrl}/calendario`,{headers:(new u.WM).set("jopakatoken",a)})}solicitarReagendacion(a,r){return this.http.post(`${this.apiUrl}/reagendar`,r,{headers:(new u.WM).set("jopakatoken",a)})}getReagendaciones(a){return this.http.get(`${this.apiUrl}/reagendar`,{headers:(new u.WM).set("jopakatoken",a)})}aceptarReagendacion(a,r){return this.http.put(`${this.apiUrl}/aceptar`,{id_solicitud:r},{headers:(new u.WM).set("jopakatoken",a)})}denegarReagendacion(a,r){return console.log(a,r),this.http.put(`${this.apiUrl}/denegar?id=${r}`,"",{headers:(new u.WM).set("jopakatoken",a)})}llenarDatos(a,r,c){const p=new FormData;return p.append("id",r),""!=c.peso&&p.append("peso",c.peso),""!=c.altura&&p.append("altura",c.altura),""!=c.brazo&&p.append("brazo",c.brazo),""!=c.cuello&&p.append("cuello",c.cuello),""!=c.abdomen&&p.append("abdomen",c.abdomen),""!=c.cadera&&p.append("cadera",c.cadera),""!=c.muslos&&p.append("muslos",c.muslos),""!=c.pectoral&&p.append("pectoral",c.pectoral),this.http.put(`${this.apiUrl}/cliente?id=${this.apiUrl}`,p,{headers:(new u.WM).set("jopakatoken",a)})}llenarCalendario(a,r,c,p){const h={id_servicio:r,calendario:c,notas:p};return console.log(h),this.http.put(`${this.apiUrl}/llenarCalendario`,h,{headers:(new u.WM).set("jopakatoken",a)})}getNutriologo(a){return this.http.get(`${this.apiUrl}/data`,{headers:(new u.WM).set("jopakatoken",a)})}updateNutriologo(a,r,c){const p=new FormData;return""!=r.imagen&&p.append("imagen",r.imagen),r.nombre!=c.nombre&&p.append("nombre",r.nombre),r.apellidos!=c.apellidos&&p.append("apellidos",r.apellidos),r.celular!=c.celular&&p.append("celular",r.celular),r.sexo!=c.sexo&&p.append("sexo",r.sexo),this.http.put(`${this.apiUrl}/`,p,{headers:(new u.WM).set("jopakatoken",a)})}updateServicio(a,r){return this.http.put(`${this.apiUrl}/servicio`,r,{headers:(new u.WM).set("jopakatoken",a)})}updateHorario(a,r){const c={fechas:r};return console.log(c),this.http.put(`${this.apiUrl}/fechas`,c,{headers:(new u.WM).set("jopakatoken",a)})}deleteNutriologo(a){return this.http.delete(`${this.apiUrl}/`,{headers:(new u.WM).set("jopakatoken",a)})}}return f.\u0275fac=function(a){return new(a||f)(m.LFG(u.eN),m.LFG(e.F0))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);