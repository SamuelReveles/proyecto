"use strict";(self.webpackChunkjopaka=self.webpackChunkjopaka||[]).push([[43],{1043:(oo,f,l)=>{l.r(f),l.d(f,{CuentaNutriModule:()=>W});var g=l(9808),s=l(3075),d=l(1083),o=l(5e3),u=l(3249);function M(i,c){if(1&i&&(o.TgZ(0,"div",9)(1,"div",10)(2,"div",11),o._UZ(3,"img",12),o.qZA(),o.TgZ(4,"div",13)(5,"div",14)(6,"p"),o._uU(7),o.qZA()(),o.TgZ(8,"div",15)(9,"p"),o._uU(10),o.qZA()()(),o.TgZ(11,"div",16)(12,"ul",17)(13,"li")(14,"a",18),o._uU(15,"Informaci\xf3n general"),o.qZA()(),o.TgZ(16,"li")(17,"a",19),o._uU(18,"Configuraci\xf3n de usuario"),o.qZA()(),o.TgZ(19,"li")(20,"a",20),o._uU(21,"Configuraci\xf3n de horarios"),o.qZA()(),o.TgZ(22,"li")(23,"a",21),o._uU(24,"Configuraci\xf3n de servicio"),o.qZA()()()()(),o.TgZ(25,"div",22),o._UZ(26,"router-outlet"),o.qZA()()),2&i){const e=o.oxw();o.xp6(3),o.s9C("src",e.nutriologo.imagen,o.LSH),o.xp6(4),o.AsE(" ",e.nutriologo.nombre," ",e.nutriologo.apellidos," "),o.xp6(3),o.hij(" ",e.nutriologo.correo," ")}}let Z=(()=>{class i{constructor(e){this.nutriologoService=e}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:e=>this.nutriologo=e})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(u.l))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-sidebar"]],decls:13,vars:1,consts:[[1,"top"],[1,"navbar"],[1,"back"],["routerLink","../"],[1,"bx","bx-left-arrow-circle"],[1,"titulo"],[1,"logo"],["src","assets/img/logo.png","alt",""],["class","content",4,"ngIf"],[1,"content"],[1,"sidebar"],[1,"imagenUsuario"],["alt","",3,"src"],[1,"perfil"],[1,"nombre"],[1,"correo"],[1,"menu"],[1,"links"],["routerLink","overview"],["routerLink","configuracion"],["routerLink","config-horarios"],["routerLink","config-servicio"],[1,"info"]],template:function(e,n){1&e&&(o.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"div",2)(4,"a",3),o._UZ(5,"i",4),o._uU(6," Regresar "),o.qZA()(),o.TgZ(7,"div",5),o._uU(8," CONFIGURACI\xd3N "),o.qZA(),o.TgZ(9,"div",6)(10,"a",3),o._UZ(11,"img",7),o.qZA()()()(),o.YNc(12,M,27,4,"div",8),o.qZA()),2&e&&(o.xp6(12),o.Q6J("ngIf",n.nutriologo))},directives:[d.yS,g.O5,d.lC],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{min-height:100vh}.material-icons[_ngcontent-%COMP%]{font-family:Material Icons!important}.top[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;height:70px;background:#ffffff;box-shadow:0 1px 5px #0003;z-index:99}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{height:100%;max-width:1250px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;padding:0 50px}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;white-space:nowrap;color:#00367d;font-size:25px;font-weight:400;display:flex;align-items:center}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 10px;font-size:25px}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#005acf;transition:.2s}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;width:auto}.top[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:25px;font-weight:500;color:#494949}body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:10px;display:flex;width:100%;height:88vh;justify-content:space-between}.content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:500px;padding:20px 0;border-right:1px solid rgb(183,183,183)}.perfil[_ngcontent-%COMP%]{margin-bottom:50px}.sidebar[_ngcontent-%COMP%]   .imagenUsuario[_ngcontent-%COMP%]{width:150px;height:150px;overflow:hidden;margin:40px auto;position:relative;box-shadow:10px 10px 20px #ccc;border-radius:50%}.imagenUsuario[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-100%;right:-100%;margin:auto;height:150px}.nombre[_ngcontent-%COMP%]{font-weight:600;font-size:20px;text-align:center}.correo[_ngcontent-%COMP%]{font-size:15px;text-align:center}.menu[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{line-height:50px;height:100%}.menu[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{align-items:center;list-style:none;padding-left:15px;border-top:.2px solid #ccc;border-bottom:.2px solid #ccc}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%;text-decoration:none;white-space:nowrap;color:#3c3c3c;font-size:17px;font-weight:400}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#3c3c3c;border-left:5px solid rgb(60,60,60);background:rgb(237,237,237)}.content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%;height:100%;padding:40px 20px 0 60px;overflow-y:auto}']}),i})();function T(i,c){1&i&&(o.TgZ(0,"div",5),o._uU(1," Adecuado "),o.qZA())}function O(i,c){1&i&&(o.TgZ(0,"div",9),o._uU(1," BANEADO "),o.qZA())}function P(i,c){if(1&i&&(o.TgZ(0,"div",1)(1,"p",2),o._uU(2,"CONFIGURACI\xd3N DEL USUARIO"),o.qZA(),o.TgZ(3,"h4"),o._uU(4,"Informaci\xf3n del usuario"),o.qZA(),o.TgZ(5,"p",2),o._uU(6,"Puedes editar tu nombre, apellidos, celular y foto de perfil."),o.qZA(),o.TgZ(7,"div",3)(8,"div",4),o._uU(9," NOMBRE "),o.qZA(),o.TgZ(10,"div",5),o._uU(11),o.qZA()(),o.TgZ(12,"div",3)(13,"div",4),o._uU(14," APELLIDOS "),o.qZA(),o.TgZ(15,"div",5),o._uU(16),o.qZA()(),o.TgZ(17,"div",3)(18,"div",4),o._uU(19," ESTATUS "),o.qZA(),o.YNc(20,T,2,0,"div",6),o.YNc(21,O,2,0,"div",7),o.qZA(),o.TgZ(22,"div",3)(23,"div",4),o._uU(24," SEXO "),o.qZA(),o.TgZ(25,"div",5),o._uU(26),o.qZA()(),o.TgZ(27,"div",3)(28,"div",4),o._uU(29," CELULAR "),o.qZA(),o.TgZ(30,"div",5),o._uU(31),o.qZA()(),o.TgZ(32,"div",3)(33,"div",4),o._uU(34," CORREO "),o.qZA(),o.TgZ(35,"div",5),o._uU(36),o.qZA()(),o._UZ(37,"br")(38,"br"),o.TgZ(39,"a",8),o._uU(40," Ver m\xe1s en Configuraci\xf3n de datos "),o.qZA()()),2&i){const e=o.oxw();o.xp6(11),o.hij(" ",e.nutriologo.nombre," "),o.xp6(5),o.hij(" ",e.nutriologo.apellidos," "),o.xp6(4),o.Q6J("ngIf",0==e.nutriologo.baneado),o.xp6(1),o.Q6J("ngIf",1==e.nutriologo.baneado),o.xp6(5),o.hij(" ",e.nutriologo.sexo," "),o.xp6(5),o.hij(" ",e.nutriologo.celular," "),o.xp6(5),o.hij(" ",e.nutriologo.correo," ")}}let A=(()=>{class i{constructor(e){this.nutriologoService=e}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:e=>this.nutriologo=e})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(u.l))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-info-general"]],decls:6,vars:1,consts:[["class","info",4,"ngIf"],[1,"info"],[1,"small"],[1,"data"],[1,"campo"],[1,"detalle"],["class","detalle",4,"ngIf"],["class","detalle","style","color: red;",4,"ngIf"],["routerLink","../configuracion"],[1,"detalle",2,"color","red"]],template:function(e,n){1&e&&(o.TgZ(0,"h4"),o._uU(1,"Informaci\xf3n general"),o.qZA(),o.TgZ(2,"p"),o._uU(3,"Un lugar para administrar y configurar tu informaci\xf3n."),o.qZA(),o._UZ(4,"br"),o.YNc(5,P,41,7,"div",0)),2&e&&(o.xp6(5),o.Q6J("ngIf",n.nutriologo))},directives:[g.O5,d.yS],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.info[_ngcontent-%COMP%]{width:550px;height:auto;border:.5px solid rgb(207,207,207);border-radius:5px;padding:20px 30px;position:relative}.info[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:12px;color:#a5a5a5}.info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.info[_ngcontent-%COMP%]   .data_container[_ngcontent-%COMP%]{width:calc(100% + 15px);max-height:230px;overflow-y:auto;padding-right:15px}.data[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:40px;border-bottom:.5px solid #ccc}.data[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{font-size:14px;color:#787878;width:40%}.data[_ngcontent-%COMP%]   .detalle[_ngcontent-%COMP%]{font-size:15px;color:#404040;width:100%;font-weight:400}.info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;text-decoration:none;top:calc(100% - 40px);left:calc(100% - 300px);font-weight:600;font-size:15px}"]}),i})();var _=l(5861),k=l(87),m=l(1271),C=l(7531),h=l(773);function U(i,c){1&i&&(o.TgZ(0,"div",7)(1,"div",8),o._uU(2," No puedes acceder a tu configuraci\xf3n debido a que tu cuenta se encuentra temporalmente suspendida. "),o.qZA()())}function y(i,c){if(1&i){const e=o.EpF();o.TgZ(0,"div",33)(1,"button",34),o.NdJ("click",function(){o.CHM(e),o.oxw();const t=o.MAs(19);return o.oxw(2).generarCodigo(t.value)})("click",function(){return o.CHM(e),o.oxw(3).counter=1}),o._uU(2,"Enviar c\xf3digo"),o.qZA()()}if(2&i){const e=o.oxw(3);o.xp6(1),o.Q6J("disabled",e.deshabilitar)}}function q(i,c){if(1&i){const e=o.EpF();o.TgZ(0,"div",9)(1,"h4"),o._uU(2,"VALIDACI\xd3N DE CELULAR"),o.qZA(),o.TgZ(3,"div",10)(4,"span",11),o._uU(5,"Token"),o.qZA(),o.TgZ(6,"form",35)(7,"div",14)(8,"div",36),o._UZ(9,"input",37,38),o.qZA(),o.TgZ(11,"div",39)(12,"div",40)(13,"button",34),o.NdJ("click",function(){o.CHM(e);const t=o.MAs(10);return o.oxw(3).verificarCodigo(t.value)}),o._uU(14,"Verificar token"),o.qZA()(),o.TgZ(15,"div",33)(16,"button",34),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).start()})("click",function(){o.CHM(e),o.oxw();const t=o.MAs(19);return o.oxw(2).generarCodigo(t.value)}),o._uU(17,"Reenviar c\xf3digo"),o.qZA()(),o.TgZ(18,"div",41)(19,"p"),o._uU(20),o.qZA()()()()()()()}if(2&i){const e=o.MAs(10),n=o.oxw(3);o.xp6(6),o.Q6J("formGroup",n.tokenFormGroup),o.xp6(7),o.Q6J("disabled",e.value.length<6),o.xp6(3),o.Q6J("disabled",n.deshabilitar||0==n.counter),o.xp6(4),o.hij(" ",n.segundos," seg")}}function w(i,c){if(1&i){const e=o.EpF();o.TgZ(0,"div",7)(1,"h4"),o._uU(2,"Configuraci\xf3n de perf\xedl"),o.qZA(),o.TgZ(3,"div",9)(4,"h4"),o._uU(5,"DATOS GENERALES"),o.qZA(),o.TgZ(6,"div",10)(7,"span",11),o._uU(8,"Nombre"),o.qZA(),o._UZ(9,"input",12),o.qZA(),o.TgZ(10,"div",10)(11,"span",11),o._uU(12,"Apellidos"),o.qZA(),o._UZ(13,"input",13),o.qZA(),o.TgZ(14,"div",10)(15,"span",11),o._uU(16,"N\xfamero celular"),o.qZA(),o.TgZ(17,"div",14),o._UZ(18,"input",15,16),o.YNc(20,y,3,1,"div",17),o.qZA()()(),o.YNc(21,q,21,4,"div",18),o._UZ(22,"hr"),o.TgZ(23,"div",9)(24,"h4"),o._uU(25,"FOTO DE PERFIL"),o.qZA(),o.TgZ(26,"input",19),o.NdJ("change",function(t){return o.CHM(e),o.oxw(2).onFileChange(t)}),o.qZA()(),o._UZ(27,"hr"),o.TgZ(28,"div",9)(29,"h4"),o._uU(30,"ELIMINAR CUENTA"),o.qZA(),o.TgZ(31,"div",20)(32,"p"),o._uU(33,"Si borras tu cuenta de JOPAKA, tus datos desaparecer\xe1n para siempre."),o.qZA(),o.TgZ(34,"button",21),o._uU(35,"Eliminar cuenta"),o.qZA(),o.TgZ(36,"div",22)(37,"div",23)(38,"div",24)(39,"div",25)(40,"h6",26),o._uU(41),o.qZA(),o._UZ(42,"button",27),o.qZA(),o.TgZ(43,"div",28)(44,"ul",29),o._UZ(45,"br"),o.TgZ(46,"li"),o._uU(47,"Todo tu registro ser\xe1 eliminado, incluidos los compartidos con otros usuarios, se eliminar\xe1n de forma permanente. "),o.qZA(),o._UZ(48,"br"),o.TgZ(49,"li"),o._uU(50,"Perder\xe1s el acceso a JOPAKA."),o.qZA()()(),o.TgZ(51,"div",30)(52,"button",31),o._uU(53,"Volver a mi cuenta"),o.qZA(),o.TgZ(54,"button",32),o._uU(55,"Continuar con la eliminaci\xf3n de mi cuenta"),o.qZA()()()()()()()()}if(2&i){const e=o.oxw(2);o.xp6(9),o.s9C("value",e.nutriologo.nombre),o.xp6(4),o.s9C("value",e.nutriologo.apellidos),o.xp6(5),o.s9C("value",e.nutriologo.celular),o.xp6(2),o.Q6J("ngIf",e.nutriologo.celular!=e.configFormGroup.value.celular&&0==e.counter),o.xp6(1),o.Q6J("ngIf",e.nutriologo.celular!=e.configFormGroup.value.celular),o.xp6(20),o.hij("\xbfConfirmas que quieres eliminar tu cuenta vinculada a ",e.nutriologo.correo,"? ")}}function J(i,c){if(1&i){const e=o.EpF();o.TgZ(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4"),o._uU(4,"Configuraci\xf3n de usuario"),o.qZA(),o.TgZ(5,"button",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().updateNutriologo()}),o._uU(6," Guardar cambios "),o.qZA()(),o.TgZ(7,"p"),o._uU(8,"Cualquier cambio que hagas se aplicar\xe1 en tu cuenta JOPAKA"),o.qZA(),o._UZ(9,"br"),o.qZA(),o.YNc(10,U,3,0,"div",6),o.YNc(11,w,56,6,"div",6),o.qZA()}if(2&i){const e=o.oxw();o.Q6J("formGroup",e.configFormGroup),o.xp6(5),o.Q6J("disabled",e.nutriologo.nombre==e.configFormGroup.value.nombre&&e.nutriologo.apellidos==e.configFormGroup.value.apellidos&&e.nutriologo.celular==e.configFormGroup.value.celular&&""==e.configFormGroup.value.imagen||e.nutriologo.celular!=e.configFormGroup.value.celular&&1==e.tokenValido||e.celular!=e.configFormGroup.value.celular&&0==e.tokenValido),o.xp6(5),o.Q6J("ngIf",1==e.nutriologo.baneado),o.xp6(1),o.Q6J("ngIf",0==e.nutriologo.baneado)}}function S(i,c){1&i&&(o.TgZ(0,"div",42),o._UZ(1,"mat-spinner"),o.qZA())}let N=(()=>{class i{constructor(e,n,t,a){this.nutriologoService=e,this.usuarioService=n,this._formBuilder=t,this._snackBar=a,this.spinner=!1,this.snackbarMeesage="",this.segundos=0,this.espera=20,this.datosValido=!0,this.deshabilitar=!1,this.tokenValido=!0,this.counter=0,this.date=new Date,this.formSubmitted=!1,this.configFormGroup=this._formBuilder.group({}),this.tokenFormGroup=this._formBuilder.group({codigo:["",[s.kI.required,s.kI.minLength(6)]]})}ngOnInit(){this.token=localStorage.getItem("token"),this.getNutriologo()}getNutriologo(){this.nutriologoService.getNutriologo(this.token).subscribe({next:e=>this.nutriologo=e,complete:()=>{this.configFormGroup=this._formBuilder.group({nombre:[this.nutriologo.nombre],apellidos:[this.nutriologo.apellidos],celular:[this.nutriologo.celular],imagen:[""]}),console.log(this.configFormGroup.value,this.nutriologo)}})}onFileChange(e){e.target.files.length>0&&this.configFormGroup.patchValue({imagen:e.target.files[0]})}clearPreview(e){e.input.value=null,this.configFormGroup.patchValue({imagen:[""]})}updateNutriologo(){this.token=localStorage.getItem("token"),console.log(this.configFormGroup.value),this.nutriologoService.updateNutriologo(this.token,this.configFormGroup.value,this.nutriologo).subscribe({next:e=>{console.log(e)},complete:()=>this.refresh(),error:e=>{console.error("There was an error!",e),this.snackbarMeesage="\u274c Error, celular ya registrado en otra cuenta ",this.openSnackBar()}})}deleatNutriologo(){this.nutriologoService.deleteNutriologo(this.token).subscribe({next:e=>{console.log(e)},error:e=>{console.error("There was an error!",e),this.snackbarMeesage="\u274c Error, no pudimos eliminar tu cuenta",this.openSnackBar()}})}openSnackBar(){this._snackBar.open(this.snackbarMeesage,"\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}refresh(){var e=this;return(0,_.Z)(function*(){e.spinner=!0,""!=e.configFormGroup.value.imagen?(yield new Promise(n=>setTimeout(n,4e3)),window.location.reload()):yield new Promise(n=>setTimeout(n,1500)),e.getNutriologo(),e.spinner=!1,e.snackbarMeesage="\u2705 Se han guardado los cambios",e.openSnackBar()})()}updateTimer(){this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(this.segundos),this.date.setMilliseconds(0);const e=this.date.getTime();this.date.setTime(e-1e3),this.segundos=this.date.getSeconds(),0===this.date.getSeconds()&&(this.deshabilitar=!1,this.stop())}stop(){clearInterval(this.timer)}start(){this.segundos=this.espera,this.segundos>0&&(this.deshabilitar=!0,this.updateTimer(),this.timer=setInterval(()=>{this.updateTimer()},1e3))}generarCodigo(e){1==this.tokenValido&&this.start(),this.celular=e,this.usuarioService.generarCodigo(e).subscribe()}verificarCodigo(e){console.log(this.celular),console.log(e),this.usuarioService.verificarCodigo(this.celular,e).subscribe({next:n=>this.veriCode=n,complete:()=>{"approved"===this.veriCode.status?(this.tokenValido=!1,this.deshabilitar=!1,this.tokenFormGroup.reset(),this.counter=0,this.snackbarMeesage="\u2705 C\xf3digo v\xe1lido ",this.openSnackBar()):(this.snackbarMeesage="\u274c C\xf3digo inv\xe1lido ",this.openSnackBar())},error:n=>{console.log("HTTP Error",n),this.snackbarMeesage="\u274c Ocurri\xf3 un error al hacer la validaci\xf3n",this.openSnackBar()}})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(u.l),o.Y36(k.i),o.Y36(s.qu),o.Y36(m.ux))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-configuracion"]],decls:2,vars:2,consts:[["action","#","autocomplete","off","class","container",3,"formGroup",4,"ngIf"],["class","spinner",4,"ngIf"],["action","#","autocomplete","off",1,"container",3,"formGroup"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","config",4,"ngIf"],[1,"config"],["role","alert",1,"alert","alert-danger"],[1,"user-details"],[1,"input-box"],[1,"detail"],["matInput","","type","text","formControlName","nombre","placeholder","Ingresa tu nombre",3,"value"],["matInput","","type","text","formControlName","apellidos","placeholder","Ingresa tus apellidos",3,"value"],[1,"input-token"],["matInput","","type","number","formControlName","celular","placeholder","Ingresa tu n\xfamero celular",3,"value"],["cel",""],["class","check-button",4,"ngIf"],["class","user-details",4,"ngIf"],["type","file","accept","image/png,image/jpeg",3,"change"],[1,"deleat"],["data-bs-toggle","modal","data-bs-target","#confirmDeleat",1,"btn","btn-outline-danger"],["id","confirmDeleat","tabindex","-1","aria-labelledby","confirmDeleat","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,""],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary","btn-sm"],["type","button","data-bs-dismiss","modal","routerLink","../../../../jopaka",1,"btn","btn-primary","btn-sm"],[1,"check-button"],[3,"disabled","click"],["autocomplete","off",3,"formGroup"],[1,"token"],["matInput","","formControlName","codigo","type","number","placeholder","Ingresa el token enviado via SMS",1,"entrada"],["token",""],[1,"reenviar"],[1,"check-button","check-code"],[1,"segundos"],[1,"spinner"]],template:function(e,n){1&e&&(o.YNc(0,J,12,4,"form",0),o.YNc(1,S,2,0,"div",1)),2&e&&(o.Q6J("ngIf",n.nutriologo),o.xp6(1),o.Q6J("ngIf",n.spinner))},directives:[g.O5,s._Y,s.JL,s.sg,C.Nt,s.Fj,s.JJ,s.u,s.wV,d.rH,h.Ou],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{margin:0;font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{width:calc(100% + 32px);height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto}.config[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.user-details[_ngcontent-%COMP%]{width:100%;padding-top:20px;padding-bottom:5px}.user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#a5a5a5}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:15px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{color:#494949;font-size:14px;font-weight:400;margin-bottom:5px;width:200px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px;width:300px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#255388}[type=file][_ngcontent-%COMP%]{color:#878787}[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{background:#46acff;border:1px solid #46acff;border-radius:4px;color:#fff;cursor:pointer;font-size:13px;outline:none;padding:10px 20px;text-transform:uppercase;-webkit-transition:all .5s ease;transition:all .5s ease;margin-right:20px}[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button:hover{background:#1b8eed;border:1px solid #1b8eed}.deleat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.deleat[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:300px}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}.input-token[_ngcontent-%COMP%]{display:flex;align-items:center}.input-token[_ngcontent-%COMP%]   .reenviar[_ngcontent-%COMP%]{margin:auto;display:flex;justify-content:center;align-items:center}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:30px;margin:0 15px;font-size:12px;border:none;border-radius:5px}.input-token[_ngcontent-%COMP%]   .check-code[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:rgba(199,255,169,.493)}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(227,227,227)}.input-token[_ngcontent-%COMP%]   .check-code[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(199,255,169,.982)}.input-token[_ngcontent-%COMP%]   .check-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#f6f6f6;color:#d6d6d6}.input-token[_ngcontent-%COMP%]   .segundos[_ngcontent-%COMP%]{margin:0 10px;font-size:30px}"]}),i})();var I=l(7446);function F(i,c){if(1&i){const e=o.EpF();o.TgZ(0,"div",7)(1,"div",8)(2,"h5"),o._uU(3),o.qZA(),o._UZ(4,"hr"),o.qZA(),o.TgZ(5,"div",9)(6,"p")(7,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["7:00"]=t}),o._uU(8," 07:00"),o.qZA()(),o.TgZ(9,"p")(10,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["7:30"]=t}),o._uU(11," 07:30"),o.qZA()(),o.TgZ(12,"p")(13,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["8:00"]=t}),o._uU(14," 08:00"),o.qZA()(),o.TgZ(15,"p")(16,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["8:30"]=t}),o._uU(17," 08:30"),o.qZA()(),o.TgZ(18,"p")(19,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["9:00"]=t}),o._uU(20," 09:00"),o.qZA()(),o.TgZ(21,"p")(22,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["9:30"]=t}),o._uU(23," 09:30"),o.qZA()(),o.TgZ(24,"p")(25,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["10:00"]=t}),o._uU(26,"10:00"),o.qZA()(),o.TgZ(27,"p")(28,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["10:30"]=t}),o._uU(29,"10:30"),o.qZA()(),o.TgZ(30,"p")(31,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["11:00"]=t}),o._uU(32,"11:00"),o.qZA()(),o.TgZ(33,"p")(34,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["11:30"]=t}),o._uU(35,"11:30"),o.qZA()(),o.TgZ(36,"p")(37,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["12:00"]=t}),o._uU(38,"12:00"),o.qZA()(),o.TgZ(39,"p")(40,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["12:30"]=t}),o._uU(41,"12:30"),o.qZA()(),o.TgZ(42,"p")(43,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["13:00"]=t}),o._uU(44,"13:00"),o.qZA()(),o.TgZ(45,"p")(46,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["13:30"]=t}),o._uU(47,"13:30"),o.qZA()(),o.TgZ(48,"p")(49,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["14:00"]=t}),o._uU(50,"14:00"),o.qZA()(),o.TgZ(51,"p")(52,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["14:30"]=t}),o._uU(53,"14:30"),o.qZA()(),o.TgZ(54,"p")(55,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["15:00"]=t}),o._uU(56,"15:00"),o.qZA()(),o.TgZ(57,"p")(58,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["15:30"]=t}),o._uU(59,"15:30"),o.qZA()(),o.TgZ(60,"p")(61,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["16:00"]=t}),o._uU(62,"16:00"),o.qZA()(),o.TgZ(63,"p")(64,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["16:30"]=t}),o._uU(65,"16:30"),o.qZA()(),o.TgZ(66,"p")(67,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["17:00"]=t}),o._uU(68,"17:00"),o.qZA()(),o.TgZ(69,"p")(70,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["17:30"]=t}),o._uU(71,"17:30"),o.qZA()(),o.TgZ(72,"p")(73,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["18:00"]=t}),o._uU(74,"18:00"),o.qZA()(),o.TgZ(75,"p")(76,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["18:30"]=t}),o._uU(77,"18:30"),o.qZA()(),o.TgZ(78,"p")(79,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["19:00"]=t}),o._uU(80,"19:00"),o.qZA()(),o.TgZ(81,"p")(82,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["19:30"]=t}),o._uU(83,"19:30"),o.qZA()(),o.TgZ(84,"p")(85,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["20:00"]=t}),o._uU(86,"20:00"),o.qZA()(),o.TgZ(87,"p")(88,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["20:30"]=t}),o._uU(89,"20:30"),o.qZA()(),o.TgZ(90,"p")(91,"mat-checkbox",10),o.NdJ("ngModelChange",function(t){return o.CHM(e).$implicit["21:00"]=t}),o._uU(92,"21:00"),o.qZA()()()()}if(2&i){const e=c.$implicit,n=c.index,t=o.oxw();o.xp6(3),o.hij(" ",t.diasSemana[n]," "),o.xp6(4),o.Q6J("ngModel",e["7:00"]),o.xp6(3),o.Q6J("ngModel",e["7:30"]),o.xp6(3),o.Q6J("ngModel",e["8:00"]),o.xp6(3),o.Q6J("ngModel",e["8:30"]),o.xp6(3),o.Q6J("ngModel",e["9:00"]),o.xp6(3),o.Q6J("ngModel",e["9:30"]),o.xp6(3),o.Q6J("ngModel",e["10:00"]),o.xp6(3),o.Q6J("ngModel",e["10:30"]),o.xp6(3),o.Q6J("ngModel",e["11:00"]),o.xp6(3),o.Q6J("ngModel",e["11:30"]),o.xp6(3),o.Q6J("ngModel",e["12:00"]),o.xp6(3),o.Q6J("ngModel",e["12:30"]),o.xp6(3),o.Q6J("ngModel",e["13:00"]),o.xp6(3),o.Q6J("ngModel",e["13:30"]),o.xp6(3),o.Q6J("ngModel",e["14:00"]),o.xp6(3),o.Q6J("ngModel",e["14:30"]),o.xp6(3),o.Q6J("ngModel",e["15:00"]),o.xp6(3),o.Q6J("ngModel",e["15:30"]),o.xp6(3),o.Q6J("ngModel",e["16:00"]),o.xp6(3),o.Q6J("ngModel",e["16:30"]),o.xp6(3),o.Q6J("ngModel",e["17:00"]),o.xp6(3),o.Q6J("ngModel",e["17:30"]),o.xp6(3),o.Q6J("ngModel",e["18:00"]),o.xp6(3),o.Q6J("ngModel",e["18:30"]),o.xp6(3),o.Q6J("ngModel",e["19:00"]),o.xp6(3),o.Q6J("ngModel",e["19:30"]),o.xp6(3),o.Q6J("ngModel",e["20:00"]),o.xp6(3),o.Q6J("ngModel",e["20:30"]),o.xp6(3),o.Q6J("ngModel",e["21:00"])}}function H(i,c){1&i&&(o.TgZ(0,"div",11),o._UZ(1,"mat-spinner"),o.qZA())}let G=(()=>{class i{constructor(e,n){this.nutriologoService=e,this._snackBar=n,this.spinner=!1,this.horarios=[],this.diasSemana=["LUNES","MARTES","MI\xc9RCOLES","JUEVES","VIERNES","S\xc1BADO","DOMINGO"]}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:e=>this.nutriologo=e,complete:()=>{this.horarios=this.nutriologo.configuracion_fechas}}),"1"==localStorage.getItem("succes")&&this.openSnackBar()}updateHorario(){console.log(this.horarios),this.nutriologoService.updateHorario(this.token,this.horarios).subscribe({next:e=>{console.log(e),this.refresh()},error:e=>{console.error("There was an error!",e),this.openSnackBarBad()}})}openSnackBarBad(){this._snackBar.open("\u274c Ocurri\xf3 un error, al guardar los cambios ","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}openSnackBar(){this._snackBar.open("\u2705 Se han guardado el horario","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3}),localStorage.removeItem("succes")}refresh(){var e=this;return(0,_.Z)(function*(){e.spinner=!0,yield new Promise(n=>setTimeout(n,1500)),e.spinner=!1,localStorage.setItem("succes","1"),window.location.reload()})()}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(u.l),o.Y36(m.ux))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-config-horarios"]],decls:16,vars:2,consts:[[1,"container"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"click"],[1,"config"],["class","horarios",4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],[1,"horarios"],[1,"dia"],[1,"horario"],[3,"ngModel","ngModelChange"],[1,"spinner"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),o._uU(4,"Configuraci\xf3n de horarios"),o.qZA(),o.TgZ(5,"button",3),o.NdJ("click",function(){return n.updateHorario()}),o._uU(6," Guardar cambios "),o.qZA()(),o.TgZ(7,"p"),o._uU(8,"Configura tu horario, de acuerdo a los d\xecas de los dias de la semana, marcando las casillas en las que deseas tener consultas "),o.TgZ(9,"b"),o._uU(10,"(Visible por 30 d\xedas)"),o.qZA(),o._uU(11,"."),o.qZA(),o._UZ(12,"br"),o.qZA(),o.TgZ(13,"div",4),o.YNc(14,F,93,30,"div",5),o.qZA()(),o.YNc(15,H,2,0,"div",6)),2&e&&(o.xp6(14),o.Q6J("ngForOf",n.horarios),o.xp6(1),o.Q6J("ngIf",n.spinner))},directives:[g.sg,I.oG,s.JJ,s.On,g.O5,h.Ou],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:600px;margin-bottom:0}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{min-width:calc(100% + 32px);width:auto;height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto;overflow-x:auto;display:flex;justify-content:space-between}.horarios[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgb(255,199,31);border-radius:10px;padding:15px;margin-right:15px;display:flex;flex-direction:column;text-align:center}.horarios[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;border-bottom:1px solid #ccc;height:30px;margin-bottom:10px}.horarios[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px;font-weight:400}.horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}"]}),i})();var x=l(1159),E=l(8675),Q=l(4004),v=l(7322),p=l(6688),z=l(5245),b=l(1079),B=l(508),j=l(2368);const $=["categoryInput"];function L(i,c){if(1&i){const e=o.EpF();o.TgZ(0,"mat-chip",23),o.NdJ("removed",function(){const a=o.CHM(e).$implicit;return o.oxw(2).remove(a)}),o._uU(1),o.TgZ(2,"button",24)(3,"mat-icon"),o._uU(4,"cancel"),o.qZA()()()}if(2&i){const e=c.$implicit;o.xp6(1),o.hij(" ",e," ")}}function D(i,c){if(1&i&&(o.TgZ(0,"mat-option",25),o._uU(1),o.qZA()),2&i){const e=c.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function Y(i,c){if(1&i){const e=o.EpF();o.TgZ(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4"),o._uU(4,"Configuraci\xf3n de perfil profesional"),o.qZA(),o.TgZ(5,"button",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().updateServicio()}),o._uU(6," Guardar cambios "),o.qZA()(),o.TgZ(7,"p"),o._uU(8,"La informaci\xf3n aqu\xed configurada ser\xe1 o no mostrada en el apartado de b\xfasqueda"),o.qZA(),o._UZ(9,"br"),o.qZA(),o.TgZ(10,"div",6)(11,"h4"),o._uU(12,"Configuraci\xf3n de servicio"),o.qZA(),o.TgZ(13,"div",7)(14,"h4"),o._uU(15,"DATOS A MOSTRAR"),o.qZA(),o.TgZ(16,"div",8)(17,"span",9),o._uU(18,"Precio por consulta $ (MXN)"),o.qZA(),o._UZ(19,"input",10),o.qZA(),o.TgZ(20,"div",8)(21,"span",9),o._uU(22,"Descipci\xf3n, especialidades"),o.qZA(),o._UZ(23,"textarea",11),o.qZA(),o.TgZ(24,"div",8)(25,"span",9),o._uU(26,"Indicaciones"),o.qZA(),o._UZ(27,"textarea",12),o.qZA()(),o._UZ(28,"hr"),o.TgZ(29,"div",7)(30,"h4"),o._uU(31,"CATEGOR\xcdAS"),o.qZA(),o.TgZ(32,"mat-form-field",13)(33,"mat-label"),o._uU(34,"Categor\xedas en las que participo"),o.qZA(),o.TgZ(35,"mat-chip-list",14,15),o.YNc(37,L,5,1,"mat-chip",16),o.TgZ(38,"input",17,18),o.NdJ("matChipInputTokenEnd",function(t){return o.CHM(e),o.oxw().add(t)}),o.qZA()(),o.TgZ(40,"mat-autocomplete",19,20),o.NdJ("optionSelected",function(t){return o.CHM(e),o.oxw().selected(t)}),o.YNc(42,D,2,2,"mat-option",21),o.ALo(43,"async"),o.qZA()()(),o._UZ(44,"hr"),o.TgZ(45,"div",7)(46,"h4"),o._uU(47,"VISIBILIDAD"),o.qZA(),o.TgZ(48,"div",8)(49,"span",9),o._uU(50,"Visibilidad en el buscador"),o.qZA(),o._UZ(51,"mat-slide-toggle",22),o.qZA()(),o._UZ(52,"hr"),o.TgZ(53,"div",7)(54,"h4")(55,"b"),o._uU(56,"NOTAS:"),o.qZA()(),o.TgZ(57,"ul")(58,"li"),o._uU(59,"Las categorias le permiten al cliente hacer filtrado en las b\xfasquedas. Por lo tanto, elige las categorias de acuerdo a tus especialidades con el fin de posicionarte de forma adecuada en los resultados de b\xfasqueda. "),o.qZA(),o.TgZ(60,"li"),o._uU(61," Activar o desactivar tu visibilidad significa aparecer o no el el buscador. Esta herramienta es util en caso de que no quieras recibir m\xe1s consultas. Como nota, esta funci\xf3n se desactiva si la dem\xe1s informaci\xf3n est\xe1 vacia o es incorrecta. "),o.qZA()()()()()}if(2&i){const e=o.MAs(36),n=o.MAs(41),t=o.oxw();o.Q6J("formGroup",t.configFormGroup),o.xp6(5),o.Q6J("disabled",t.nutriologo.precio==t.configFormGroup.value.precio&&0==t.changeCategories&&t.nutriologo.descripcion==t.configFormGroup.value.descripcion&&t.nutriologo.indicaciones==t.configFormGroup.value.indicaciones&&t.nutriologo.activo==t.configFormGroup.value.activo||""==t.configFormGroup.value.descripcion||0==t.categories.length&&1==t.configFormGroup.value.activo||t.configFormGroup.value.precio<=0),o.xp6(14),o.MGl("value"," ",t.nutriologo.precio," "),o.xp6(4),o.MGl("value"," ",t.nutriologo.descripcion," "),o.xp6(4),o.MGl("value"," ",t.nutriologo.indicaciones," "),o.xp6(10),o.Q6J("ngForOf",t.categories),o.xp6(1),o.Q6J("formControl",t.categoryCtrl)("matAutocomplete",n)("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),o.xp6(4),o.Q6J("ngForOf",o.lcZ(43,12,t.filteredCategories)),o.xp6(9),o.Q6J("disabled",""==t.configFormGroup.value.descripcion||0==t.categories.length&&0==t.configFormGroup.value.activo||t.configFormGroup.value.precio<=0)}}function R(i,c){1&i&&(o.TgZ(0,"div",26),o._UZ(1,"mat-spinner"),o.qZA())}const V=[{path:"",component:Z,children:[{path:"overview",component:A},{path:"configuracion",component:N},{path:"config-horarios",component:G},{path:"config-servicio",component:(()=>{class i{constructor(e,n,t){this.nutriologoService=e,this._formBuilder=n,this._snackBar=t,this.spinner=!1,this.isChecked=!0,this.formSubmitted=!1,this.configFormGroup=this._formBuilder.group({}),this.separatorKeysCodes=[x.K5,x.OC],this.categoryCtrl=new s.NI,this.categories=[],this.changeCategories=!1,this.allCategories=["Obesidad","Vegetariano","Vegano","Diabetes","Transtornos alimenticios","Deportivo"],this.filteredCategories=this.categoryCtrl.valueChanges.pipe((0,E.O)(null),(0,Q.U)(a=>a?this._filter(a):this.allCategories.slice()))}ngOnInit(){this.token=localStorage.getItem("token"),this.nutriologoService.getNutriologo(this.token).subscribe({next:e=>this.nutriologo=e,complete:()=>{this.configFormGroup=this._formBuilder.group({precio:[this.nutriologo.precio],descripcion:[this.nutriologo.descripcion],activo:[this.nutriologo.activo],indicaciones:[this.nutriologo.indicaciones],especialidades:[this.nutriologo.especialidades]}),console.log(this.configFormGroup.value),null!=this.nutriologo.especialidades&&(this.categories=this.nutriologo.especialidades)}}),"1"==localStorage.getItem("bienGuardado")&&this.openSnackBar()}updateServicio(){console.log(this.configFormGroup.value),this.nutriologoService.updateServicio(this.token,this.configFormGroup.value).subscribe({next:e=>{console.log(e),this.refresh()},error:e=>{console.error("There was an error!",e),this.openSnackBarBad()}})}openSnackBarBad(){this._snackBar.open("\u274c Ocurri\xf3 un error, no se pudieron guardar los cambios ","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3})}openSnackBar(){this._snackBar.open("\u2705 Se han guardado los cambios","\u2716",{horizontalPosition:"start",verticalPosition:"bottom",duration:7e3}),localStorage.removeItem("bienGuardado")}refresh(){var e=this;return(0,_.Z)(function*(){e.spinner=!0,yield new Promise(n=>setTimeout(n,1500)),e.spinner=!1,localStorage.setItem("bienGuardado","1"),window.location.reload()})()}add(e){const n=(e.value||"").trim();n&&(this.categories.push(n),this.configFormGroup.value.especialidades=this.categories,this.changeCategories=!0),e.chipInput.clear(),this.categoryCtrl.setValue(null)}remove(e){const n=this.categories.indexOf(e);n>=0&&(this.categories.splice(n,1),this.configFormGroup.value.especialidades=this.categories,this.changeCategories=!0)}selected(e){this.categories.push(e.option.viewValue),this.configFormGroup.value.especialidades=this.categories,this.changeCategories=!0,this.categoryInput.nativeElement.value="",this.categoryCtrl.setValue(null)}_filter(e){const n=e.toLowerCase();return this.allCategories.filter(t=>t.toLowerCase().includes(n))}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(u.l),o.Y36(s.qu),o.Y36(m.ux))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-config-servicios"]],viewQuery:function(e,n){if(1&e&&o.Gf($,5),2&e){let t;o.iGM(t=o.CRH())&&(n.categoryInput=t.first)}},decls:2,vars:2,consts:[["action","#","autocomplete","off","class","container",3,"formGroup",4,"ngIf"],["class","spinner",4,"ngIf"],["action","#","autocomplete","off",1,"container",3,"formGroup"],[1,"header"],[1,"top"],["type","submit",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"config"],[1,"user-details"],[1,"input-box"],[1,"detail"],["matInput","","type","number","formControlName","precio","placeholder","Establece tu precio por consulta",3,"value"],["matInput","","id","texto","formControlName","descripcion","maxlength","500","placeholder","Anota aqu\xed tus estudios y/o especialidades para que los clientes te conozcan mejor.",3,"value"],["matInput","","id","texto","formControlName","indicaciones","maxlength","500","placeholder","Puedes dar indicaciones previas a la consulta, como pesarse, medir su altura, etc.",3,"value"],["appearance","fill",1,"example-chip-list"],["aria-label","Category selection"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","Agregar categoria...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["categoryInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formControlName","activo",3,"disabled"],[3,"removed"],["matChipRemove",""],[3,"value"],[1,"spinner"]],template:function(e,n){1&e&&(o.YNc(0,Y,62,14,"form",0),o.YNc(1,R,2,0,"div",1)),2&e&&(o.Q6J("ngIf",n.nutriologo),o.xp6(1),o.Q6J("ngIf",n.spinner))},directives:[g.O5,s._Y,s.JL,s.sg,C.Nt,s.wV,s.Fj,s.JJ,s.u,s.nD,v.KE,v.hX,p.qn,g.sg,p.HS,p.qH,z.Hw,b.ZL,p.oH,s.oH,b.XC,B.ey,j.Rr,h.Ou],pipes:[g.Ov],styles:["h4[_ngcontent-%COMP%]{font-size:23px;font-weight:600;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:14px}.container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.header[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:.5px solid rgb(207,207,207)}.top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.config[_ngcontent-%COMP%]{width:calc(100% + 32px);height:100%;border-radius:5px;padding:30px 32px 30px 0;overflow-y:auto}.config[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.user-details[_ngcontent-%COMP%]{width:100%;padding-top:20px;padding-bottom:5px}.user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#a5a5a5}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:20px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{color:#494949;font-size:14px;font-weight:400;margin-bottom:5px;width:250px}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px;width:300px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:150px;max-height:150px;width:500px;outline:none;border-radius:5px;border:1px solid #ccc;padding-left:15px;padding-top:5px;font-size:15px;transition:all .3s ease}.user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .user-details[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#255388}.example-chip-list[_ngcontent-%COMP%]{width:100%}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(119,119,119,.492);z-index:99;display:flex;align-items:center;justify-content:center}"]}),i})()},{path:"**",redirectTo:"overview"}]}];let X=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[d.Bz.forChild(V)],d.Bz]}),i})();var K=l(4353);let W=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[g.ez,X,s.u5,K.q,s.UX]]}),i})()}}]);