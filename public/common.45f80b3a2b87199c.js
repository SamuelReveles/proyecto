"use strict";(self.webpackChunkjopaka=self.webpackChunkjopaka||[]).push([[592],{87:(g,c,s)=>{s.d(c,{i:()=>i});var o=s(8505),p=s(2340),a=s(5e3),u=s(520),h=s(1083);let i=(()=>{class l{constructor(t,r,n){this.http=t,this.router=r,this.ngZone=n,this.baseUrl=p.N.baseUrl,this.googleInit()}googleInit(){return new Promise(t=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init({client_id:"86407381520-b22aanmqdi3q61d62sec545cr2curik1.apps.googleusercontent.com",cookiepolicy:"sinost_origin"}),t()})})}logout(){localStorage.removeItem("token"),localStorage.removeItem("role"),this.userRole="",this.auth2.signOut().then(()=>{this.ngZone.run(()=>{this.router.navigateByUrl("/jopaka")})})}getRole(){return this.userRole=localStorage.getItem("role"),this.userRole}crearUsuario(t){return console.log("creado usuario"),this.http.post(`${this.baseUrl}/auth/cliente`,t)}crearSolicitud(t){return console.log("generadno solicitud"),this.http.post(`${this.baseUrl}/auth/nutriologo`,t)}loginGoogle(t){return this.http.post(`${this.baseUrl}/auth/logIn`,t).pipe((0,o.b)(r=>{localStorage.setItem("token",r.toekn)}))}validarToken(){return""!==(localStorage.getItem("token")||"")}generarCodigo(t){return this.http.get(`${this.baseUrl}/auth/sendCode?celular=${t}`)}verificarCodigo(t,r){return this.http.get(`${this.baseUrl}/auth/verifyCode?celular=${t}&code=${r}`)}verificarCorreo(t){return this.http.get(`${this.baseUrl}/auth/correo?correo=${t}`,{})}}return l.\u0275fac=function(t){return new(t||l)(a.LFG(u.eN),a.LFG(h.F0),a.LFG(a.R0b))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},6088:(g,c,s)=>{s.d(c,{p:()=>h});var o=s(520),p=s(2340),a=s(5e3),u=s(1083);let h=(()=>{class i{constructor(e,t){this.http=e,this.router=t,this.baseUrl=p.N.baseUrl,this.apiUrl=`${this.baseUrl}/administrador`}getNotificaciones(e){return this.http.get(`${this.apiUrl}/notificaciones`,{headers:(new o.WM).set("jopakatoken",e)})}putNotificaciones(e){return this.http.put(`${this.apiUrl}/notificaciones`,"",{headers:(new o.WM).set("jopakatoken",e)})}deleteNotificaciones(e,t){return this.http.delete(`${this.apiUrl}/notificaciones?index=${t}`,{headers:(new o.WM).set("jopakatoken",e)})}getUsuarios(e){return this.http.get(`${this.apiUrl}/user`,{headers:(new o.WM).set("jopakatoken",e)})}getNutriologos(e){return this.http.get(`${this.apiUrl}/nutriologo`,{headers:(new o.WM).set("jopakatoken",e)})}getBaneadosN(e){return this.http.get(`${this.apiUrl}/nutriologo?baneado=true`,{headers:(new o.WM).set("jopakatoken",e)})}getBaneadosC(e){return this.http.get(`${this.apiUrl}/user?baneado=true`,{headers:(new o.WM).set("jopakatoken",e)})}getSolicitudes(e){return this.http.get(`${this.apiUrl}/soli/`,{headers:(new o.WM).set("jopakatoken",e)})}getReportes(e,t){return this.http.get(`${this.apiUrl}/reporte/user?id=${t}`,{headers:(new o.WM).set("jopakatoken",e)})}deleteReporte(e,t){return this.http.put(`${this.apiUrl}/reporte/quitar/?id=${t}`,t,{headers:(new o.WM).set("jopakatoken",e)})}acceptRequest(e,t){return console.log("aceptando soli"),this.http.post(`${this.apiUrl}/soli/accepted`,{id:t},{headers:(new o.WM).set("jopakatoken",e)})}denyRequest(e,t){return console.log("denegando soli"),this.http.put(`${this.apiUrl}/soli/denied`,{id:t},{headers:(new o.WM).set("jopakatoken",e)})}getAdmin(e){return this.http.get(`${this.apiUrl}/data`,{headers:(new o.WM).set("jopakatoken",e)})}updateAdmin(e,t,r){const n=new FormData;return""!=t.imagen&&n.append("imagen",t.imagen),t.nombre!=r.nombre&&n.append("nombre",t.nombre),t.apellidos!=r.apellidos&&n.append("apellidos",t.apellidos),t.celular!=r.celular&&n.append("celular",t.celular),this.http.put(`${this.apiUrl}/update`,n,{headers:(new o.WM).set("jopakatoken",e)})}postAdmin(e,t){return this.http.post(`${this.baseUrl}/auth/administrador`,t,{headers:(new o.WM).set("jopakatoken",e)})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(o.eN),a.LFG(u.F0))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},5861:(g,c,s)=>{function o(a,u,h,i,l,e,t){try{var r=a[e](t),n=r.value}catch(d){return void h(d)}r.done?u(n):Promise.resolve(n).then(i,l)}function p(a){return function(){var u=this,h=arguments;return new Promise(function(i,l){var e=a.apply(u,h);function t(n){o(e,i,l,t,r,"next",n)}function r(n){o(e,i,l,t,r,"throw",n)}t(void 0)})}}s.d(c,{Z:()=>p})}}]);