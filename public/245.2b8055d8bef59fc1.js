"use strict";(self.webpackChunkjopaka=self.webpackChunkjopaka||[]).push([[245],{245:(at,Z,r)=>{r.r(Z),r.d(Z,{DashboardAdminModule:()=>it});var c=r(9808),u=r(3075),_=r(1083),t=r(5e3),v=r(87),g=r(6088),A=r(7544),x=r(2181);function U(e,i){1&e&&(t.TgZ(0,"p",25),t._uU(1,"No hay notificaciones"),t.qZA())}function M(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",30)(1,"p",31),t._uU(2),t.ALo(3,"date"),t.TgZ(4,"span"),t._uU(5,"(Nuevo)"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"i",32),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().index;return t.oxw(2).deleteNotificacion(a)}),t.qZA()()}if(2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij("",t.Dn7(3,2,n.hora,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(5),t.Oqu(n.mensaje)}}function O(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",33)(1,"p",31),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"i",32),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().index;return t.oxw(2).deleteNotificacion(a)}),t.qZA()()}if(2&e){const n=t.oxw().$implicit;t.xp6(2),t.Oqu(t.Dn7(3,2,n.hora,"dd/MM/yyyy, h:mm a","UTC -5")),t.xp6(3),t.Oqu(n.mensaje)}}function q(e,i){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,M,9,6,"div",28),t.YNc(2,O,7,6,"div",29),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("ngIf",0==n.visto),t.xp6(1),t.Q6J("ngIf",1==n.visto)}}function P(e,i){if(1&e&&(t.TgZ(0,"div",26),t.YNc(1,q,3,2,"div",27),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.notifications)}}let y=(()=>{class e{constructor(n,o){this.usuarioService=n,this.administradorService=o,this.hidden=!0,this.notifications=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.getNotificaciones()}getNotificaciones(){this.administradorService.getNotificaciones(this.token).subscribe({next:n=>{this.notificaciones=n,console.log(n)},complete:()=>{this.notifications=[];for(let n=0;n<this.notificaciones.notificaciones.length;n++)this.notifications.push(this.notificaciones.notificaciones[this.notificaciones.notificaciones.length-1-n]);0!=this.notifications.length&&0==this.notifications[0].visto&&(this.hidden=!1),console.log(this.notifications,this.hidden)}})}leerNotificaciones(){this.administradorService.putNotificaciones(this.token).subscribe({next:n=>console.log(n),error:n=>console.log(n)})}deleteNotificacion(n){this.administradorService.deleteNotificaciones(this.token,this.notifications.length-1-n).subscribe({next:a=>{console.log(a),this.getNotificaciones()},error:a=>console.log(a)})}toggleBadgeVisibility(){this.hidden=!0}logout(){this.usuarioService.logout(),window.location.reload()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.i),t.Y36(g.p))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-navbar"]],decls:44,vars:5,consts:[[1,"nav-bar"],[1,"bx","bx-menu","sidebarOpen"],[1,"logo"],["routerLink","lista-clientes"],["src","assets/img/logo.png","alt","logo JOPAKA"],[1,"menu"],[1,"logo-toggle"],[1,"bx","bx-x","sidebarClose"],[1,"nav-links"],["routerLink","lista-nutriologos"],["routerLink","solicitudes"],["routerLink","baneos"],[1,"notification-account"],[1,"account"],["matBadgeColor","warn","matBadge","\u3164","matBadgeSize","small",3,"matMenuTriggerFor","matBadgeHidden","click"],[1,"bx","bxs-bell"],["xPosition","before"],["notificaciones","matMenu"],["mat-menu-item","",4,"ngIf"],["class","notis",4,"ngIf"],[3,"matMenuTriggerFor"],[1,"bx","bxs-user-circle"],["cuenta","matMenu"],["mat-menu-item","","routerLink","../cuenta"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[1,"notis"],[4,"ngFor","ngForOf"],["class","not-read noti",4,"ngIf"],["class","read noti",4,"ngIf"],[1,"not-read","noti"],[1,"hora"],[1,"bx","bx-x","bx-sm",3,"click"],[1,"read","noti"]],template:function(n,o){if(1&n&&(t.TgZ(0,"body")(1,"nav")(2,"div",0),t._UZ(3,"i",1),t.TgZ(4,"div",2)(5,"a",3),t._UZ(6,"img",4),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"span",2)(10,"a",3),t._uU(11,"JOPAKA"),t.qZA()(),t._UZ(12,"i",7),t.qZA(),t.TgZ(13,"ul",8)(14,"li")(15,"a",3),t._uU(16,"CLIENTES"),t.qZA()(),t.TgZ(17,"li")(18,"a",9),t._uU(19,"NUTRI\xd3LOGOS"),t.qZA()(),t.TgZ(20,"li")(21,"a",10),t._uU(22,"SOLICITUDES"),t.qZA()(),t.TgZ(23,"li")(24,"a",11),t._uU(25,"BANEOS"),t.qZA()()()(),t.TgZ(26,"div",12)(27,"div",13)(28,"a",14),t.NdJ("click",function(){return o.toggleBadgeVisibility()})("click",function(){return o.leerNotificaciones()}),t._UZ(29,"i",15),t.qZA(),t.TgZ(30,"mat-menu",16,17),t.YNc(32,U,2,0,"p",18),t.YNc(33,P,2,1,"div",19),t.qZA()(),t.TgZ(34,"div",13)(35,"a",20),t._UZ(36,"i",21),t.qZA(),t.TgZ(37,"mat-menu",16,22)(39,"button",23),t._uU(40,"Configuraci\xf3n de Cuenta"),t.qZA(),t.TgZ(41,"button",24),t.NdJ("click",function(){return o.logout()}),t._uU(42,"Cerrar sesi\xf3n"),t.qZA()()()()()(),t._UZ(43,"router-outlet"),t.qZA()),2&n){const a=t.MAs(31),s=t.MAs(38);t.xp6(28),t.Q6J("matMenuTriggerFor",a)("matBadgeHidden",o.hidden),t.xp6(4),t.Q6J("ngIf",0==o.notifications.length),t.xp6(1),t.Q6J("ngIf",0!=o.notifications.length),t.xp6(2),t.Q6J("matMenuTriggerFor",s)}},directives:[_.yS,A.k,x.p6,x.VK,c.O5,x.OP,c.sg,_.rH,_.lC],pipes:[c.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{min-height:100vh;padding-top:70px;background:rgb(255,255,255)}nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;height:70px;background:#ffffff;box-shadow:0 1px 5px #0003;z-index:99}nav[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]{height:100%;max-width:1250px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;padding:0 50px}nav[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   .sidebarOpen[_ngcontent-%COMP%]{color:#fff;font-size:25px;padding:5px;cursor:pointer;display:none}nav[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35px;width:auto}.menu[_ngcontent-%COMP%]   .logo-toggle[_ngcontent-%COMP%]{display:none}.nav-bar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:flex;align-items:center}.nav-bar[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;list-style:none;padding:10px 35px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;white-space:nowrap;color:#00367d;font-size:20px;font-weight:300}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;bottom:0;transform:translate(-50%);height:6px;width:6px;border-radius:50%;background-color:#00367d;opacity:0;transition:all .3s ease}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]:before{opacity:1;transition:all .3s ease}.nav-bar[_ngcontent-%COMP%]   .notification-account[_ngcontent-%COMP%]{display:flex}.notification-account[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{height:40px;width:40px;display:flex;align-items:center;justify-content:center;margin:15px}.notification-account[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{margin-left:0}.account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00367d;font-size:28px;cursor:pointer}.notis[_ngcontent-%COMP%]{width:275px;height:auto;max-height:500px;overflow-y:auto;background:#fff;margin:-8px 0;font-size:13px}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]{width:100%;height:auto;padding:10px 13px 10px 10px;border-bottom:1px solid #ccc;position:relative}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]   .hora[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:600}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:red}.notis[_ngcontent-%COMP%]   .noti[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;font-weight:500;font-style:italic;font-size:9px;margin-left:5px}.read[_ngcontent-%COMP%]{background-color:#eee}.nav-bar[_ngcontent-%COMP%]   .bx-menu[_ngcontent-%COMP%]{display:none}']}),e})();var d=r(8966),C=r(3251),p=r(1125),T=r(5245);function w(e,i){if(1&e&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.AsE(" ",n.userData.nombre," ",n.userData.apellidos," no tiene Reportes ")}}const k=function(){return{color:"red"}};function N(e,i){1&e&&(t.TgZ(0,"mat-icon",18),t._uU(1,"warning"),t.qZA()),2&e&&t.Q6J("ngStyle",t.DdM(1,k))}function D(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"warning"),t.qZA())}function j(e,i){1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Estatus de reporte: "),t.qZA(),t._uU(3," Activo "),t.qZA())}function S(e,i){1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Estatus de reporte: "),t.qZA(),t._uU(3," Borrado "),t.qZA())}function F(e,i){if(1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Mensaje: "),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.hij(" ",n.msg," ")}}function J(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"mat-action-row")(1,"button",19),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(2).deleatReporte(a._id)})("click",function(){return t.CHM(n),t.oxw(3).refresh()}),t._uU(2,"Borrar reporte"),t.qZA()()}}function I(e,i){if(1&e&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-panel-description"),t._uU(5),t.YNc(6,N,2,2,"mat-icon",17),t.YNc(7,D,2,0,"mat-icon",13),t.qZA()(),t.TgZ(8,"p")(9,"b"),t._uU(10,"Pts: "),t.qZA(),t._uU(11),t.qZA(),t.YNc(12,j,4,0,"p",13),t.YNc(13,S,4,0,"p",13),t.YNc(14,F,4,1,"p",13),t.YNc(15,J,3,0,"mat-action-row",13),t.qZA()),2&e){const n=i.$implicit,o=i.index;t.xp6(3),t.hij(" # ",o+1," "),t.xp6(2),t.hij(" ",n.reporte.descripcion," "),t.xp6(1),t.Q6J("ngIf",0==n.borrado),t.xp6(1),t.Q6J("ngIf",1==n.borrado),t.xp6(4),t.hij(" ",n.reporte.puntos," "),t.xp6(1),t.Q6J("ngIf",0==n.borrado),t.xp6(1),t.Q6J("ngIf",1==n.borrado),t.xp6(1),t.Q6J("ngIf",null!=n.msg),t.xp6(1),t.Q6J("ngIf",0==n.borrado)}}function R(e,i){if(1&e&&(t.TgZ(0,"div")(1,"mat-accordion",15),t.YNc(2,I,16,9,"mat-expansion-panel",16),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.reportes)}}let b=(()=>{class e{constructor(n,o,a){this.dialogRef=n,this.userData=o,this.administradorService=a,this.reportes=[],this.panelOpenState=!1}ngOnInit(){this.token=localStorage.getItem("token"),this.administradorService.getReportes(this.token,this.userData._id).subscribe({next:n=>this.reportes=n,complete:()=>{console.log(this.reportes)}})}onNoClick(){this.dialogRef.close()}deleatReporte(n){this.token=localStorage.getItem("token"),this.administradorService.deleteReporte(this.token,n).subscribe({error:o=>console.error("There was an error!",o)})}refresh(){window.location.reload(),window.location.reload()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.so),t.Y36(d.WI),t.Y36(g.p))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-users-dialog"]],decls:50,vars:22,consts:[[1,"head"],["mat-dialog-close",""],[1,"bx","bx-x-circle","bx-sm"],["mat-align-tabs","end"],["label","Informaci\xf3n General"],[1,"container"],[1,"general"],[1,"imagenUsuario"],["alt","",3,"src"],[1,"detalles"],["label","Reportes"],[1,"containerR"],["class","alert alert-secondary",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-secondary"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"btn","btn-outline-danger",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Informaci\xf3n de usuario"),t.qZA(),t.TgZ(3,"button",1),t._UZ(4,"i",2),t.qZA()(),t.TgZ(5,"mat-tab-group",3)(6,"mat-tab",4)(7,"div",5)(8,"div",6)(9,"div",7),t._UZ(10,"img",8),t.qZA(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"p")(14,"b"),t._uU(15),t.qZA()(),t.TgZ(16,"p"),t._uU(17),t.qZA()(),t.TgZ(18,"div",9)(19,"p")(20,"b"),t._uU(21,"Celular: "),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"p")(24,"b"),t._uU(25,"Sexo: "),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"p")(28,"b"),t._uU(29,"Fecha de nacimiento: "),t.qZA(),t._uU(30),t.ALo(31,"date"),t.qZA(),t.TgZ(32,"p")(33,"b"),t._uU(34,"Fecha de registro: "),t.qZA(),t._uU(35),t.ALo(36,"date"),t.qZA(),t.TgZ(37,"p")(38,"b"),t._uU(39,"\xdaltima conexi\xf3n: "),t.qZA(),t._uU(40),t.ALo(41,"date"),t.qZA(),t.TgZ(42,"p")(43,"b"),t._uU(44,"Puntaje de Baneo: "),t.qZA(),t._uU(45),t.qZA()()()(),t.TgZ(46,"mat-tab",10)(47,"div",11),t.YNc(48,w,2,2,"div",12),t.YNc(49,R,3,1,"div",13),t.qZA()()()),2&n&&(t.xp6(10),t.s9C("src",o.userData.imagen,t.LSH),t.xp6(5),t.AsE("",o.userData.nombre," ",o.userData.apellidos,""),t.xp6(2),t.hij(" ",o.userData.correo," "),t.xp6(5),t.hij(" ",o.userData.celular," "),t.xp6(4),t.hij(" ",o.userData.sexo," "),t.xp6(4),t.hij(" ",t.xi3(31,12,o.userData.fecha_nacimiento,"dd/MM/yyyy")," "),t.xp6(5),t.hij(" ",t.xi3(36,15,o.userData.fecha_registro,"dd/MM/yyyy")," "),t.xp6(5),t.hij(" ",t.Dn7(41,18,o.userData.ultima_conexion,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(5),t.hij(" ",o.userData.puntajeBaneo," "),t.xp6(3),t.Q6J("ngIf",o.userData.reportes.length<=0),t.xp6(1),t.Q6J("ngIf",o.userData.reportes.length>0))},directives:[d.ZT,C.SP,C.uX,c.O5,p.pp,c.sg,p.ib,p.yz,p.yK,p.u4,T.Hw,c.PC,p.VG],pipes:[c.uU],styles:["button[_ngcontent-%COMP%]{background:none;border:none}.head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:360px;margin-top:20px;padding:20px 0;overflow-y:hidden}.container[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]{display:block;align-items:center;width:95%;border-right:.5px solid gainsboro;text-align:center}.container[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .imagenUsuario[_ngcontent-%COMP%]{width:150px;height:150px;overflow:hidden;margin:0 auto;position:relative;box-shadow:10px 10px 20px #ccc;border-radius:50%}.container[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .imagenUsuario[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:-100%;right:-100%;margin:auto;height:150px}.container[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px}.containerR[_ngcontent-%COMP%]{width:100%;height:360px;margin-top:20px;overflow-y:auto}.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),e})();var f=r(4847);function B(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td")(15,"button",10),t.NdJ("click",function(){const s=t.CHM(n).index;return t.oxw().openDialog(s)}),t._uU(16,"Ver m\xe1s..."),t.qZA()()()}if(2&e){const n=i.$implicit,o=i.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.AsE(" ",n.nombre," ",n.apellidos," "),t.xp6(2),t.hij(" ",n.correo," "),t.xp6(2),t.hij(" ",n.celular," "),t.xp6(2),t.hij(" ",t.Dn7(11,7,n.ultima_conexion,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(3),t.hij(" ",n.puntajeBaneo," ")}}let Y=(()=>{class e{constructor(n,o){this.administradorService=n,this.dialog=o,this.usuarios=[],this.sortedUsers=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.administradorService.getUsuarios(this.token).subscribe({next:n=>this.usuarios=n,complete:()=>{this.sortedUsers=this.usuarios.slice(),console.log(this.sortedUsers)}})}openDialog(n){this.userData=this.sortedUsers[n],console.log(this.userData),this.dialog.open(b,{width:"700px",height:"550px",data:this.userData}).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}sortData(n){const o=this.usuarios.slice();this.sortedUsers=n.active&&""!==n.direction?o.sort((a,s)=>{const l="asc"===n.direction;switch(n.active){case"nombre":return m(a.nombre,s.nombre,l);case"correo":return m(a.correo,s.correo,l);case"celular":return m(a.celular,s.celular,l);case"puntos":return m(a.puntajeBaneo,s.puntajeBaneo,l);case"fecha":return m(a.ultima_conexion,s.ultima_conexion,l);default:return 0}}):o}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.p),t.Y36(d.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-clientes"]],decls:31,vars:1,consts:[[1,"content"],[1,"row"],[1,"col"],["matSort","",1,"table","table-hover","align-middle",3,"matSortChange"],["mat-sort-header","nombre"],["mat-sort-header","correo"],["mat-sort-header","celular"],["mat-sort-header","fecha"],["mat-sort-header","puntos"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-success",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Clientes de la plataforma"),t.qZA(),t._UZ(3,"hr")(4,"br"),t.TgZ(5,"div",1)(6,"div",2)(7,"table",3),t.NdJ("matSortChange",function(s){return o.sortData(s)}),t.TgZ(8,"thead")(9,"tr")(10,"th"),t._uU(11," # "),t.qZA(),t.TgZ(12,"th")(13,"button",4),t._uU(14," Nombre "),t.qZA()(),t.TgZ(15,"th")(16,"button",5),t._uU(17," Correo "),t.qZA()(),t.TgZ(18,"th")(19,"button",6),t._uU(20," Celular "),t.qZA()(),t.TgZ(21,"th")(22,"button",7),t._uU(23," \xdaltima conexi\xf3n "),t.qZA()(),t.TgZ(24,"th")(25,"button",8),t._uU(26," Pts. Baneo "),t.qZA()(),t.TgZ(27,"th"),t._uU(28," Info "),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,B,17,11,"tr",9),t.qZA()()()()()),2&n&&(t.xp6(30),t.Q6J("ngForOf",o.sortedUsers))},directives:[f.YE,f.nU,c.sg],pipes:[c.uU],styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:18px;margin-top:7px}select[_ngcontent-%COMP%]{background:transparent;border:none;font-size:14px;height:30px;padding:5px;width:250px}select[_ngcontent-%COMP%]:focus{outline:none}h4[_ngcontent-%COMP%]{font-size:20px}.content[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 71px);padding:30px;color:#292929}th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;width:100%;text-align:left;padding:6px}th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(228,228,228);transition:all .3s ease}"]}),e})();function m(e,i,n){return(e<i?-1:1)*(n?1:-1)}function E(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td")(15,"button",10),t.NdJ("click",function(){const s=t.CHM(n).index;return t.oxw().openDialog(s)}),t._uU(16,"Ver m\xe1s..."),t.qZA()()()}if(2&e){const n=i.$implicit,o=i.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.AsE(" ",n.nombre," ",n.apellidos," "),t.xp6(2),t.hij(" ",n.correo," "),t.xp6(2),t.hij(" ",n.celular," "),t.xp6(2),t.hij(" ",t.Dn7(11,7,n.ultima_conexion,"dd/MM/yyyy, h:mm a","UTC -5")," "),t.xp6(3),t.hij(" ",n.puntajeBaneo," ")}}let Q=(()=>{class e{constructor(n,o){this.administradorService=n,this.dialog=o,this.nutriologos=[],this.sortedNutriologos=[]}openDialog(n){this.nutriologo=this.sortedNutriologos[n],console.log(this.nutriologo),this.dialog.open(b,{width:"700px",height:"550px",data:this.nutriologo}).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}ngOnInit(){this.token=localStorage.getItem("token"),this.administradorService.getNutriologos(this.token).subscribe({next:n=>this.nutriologos=n,complete:()=>{this.sortedNutriologos=this.nutriologos.slice(),console.log(this.sortedNutriologos)}})}sortData(n){const o=this.nutriologos.slice();this.sortedNutriologos=n.active&&""!==n.direction?o.sort((a,s)=>{const l="asc"===n.direction;switch(n.active){case"nombre":return h(a.nombre,s.nombre,l);case"correo":return h(a.correo,s.correo,l);case"celular":return h(a.celular,s.celular,l);case"puntos":return h(a.puntajeBaneo,s.puntajeBaneo,l);case"fecha":return h(a.ultima_conexion,s.ultima_conexion,l);default:return 0}}):o}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.p),t.Y36(d.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-nutriologos"]],decls:31,vars:1,consts:[[1,"content"],[1,"row"],[1,"col"],["matSort","",1,"table","table-hover","align-middle",3,"matSortChange"],["mat-sort-header","nombre"],["mat-sort-header","correo"],["mat-sort-header","celular"],["mat-sort-header","fecha"],["mat-sort-header","puntos"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-success",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Nutriologos de la plataforma"),t.qZA(),t._UZ(3,"hr")(4,"br"),t.TgZ(5,"div",1)(6,"div",2)(7,"table",3),t.NdJ("matSortChange",function(s){return o.sortData(s)}),t.TgZ(8,"thead")(9,"tr")(10,"th"),t._uU(11," # "),t.qZA(),t.TgZ(12,"th")(13,"button",4),t._uU(14,"Nombre"),t.qZA()(),t.TgZ(15,"th")(16,"button",5),t._uU(17,"Correo"),t.qZA()(),t.TgZ(18,"th")(19,"button",6),t._uU(20,"Celular"),t.qZA()(),t.TgZ(21,"th")(22,"button",7),t._uU(23," \xdaltima conexi\xf3n "),t.qZA()(),t.TgZ(24,"th")(25,"button",8),t._uU(26,"Pts. Baneo"),t.qZA()(),t.TgZ(27,"th"),t._uU(28," Info "),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,E,17,11,"tr",9),t.qZA()()()()()),2&n&&(t.xp6(30),t.Q6J("ngForOf",o.sortedNutriologos))},directives:[f.YE,f.nU,c.sg],pipes:[c.uU],styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:18px;margin-top:7px}select[_ngcontent-%COMP%]{background:transparent;border:none;font-size:14px;height:30px;padding:5px;width:250px}select[_ngcontent-%COMP%]:focus{outline:none}h4[_ngcontent-%COMP%]{font-size:20px}.content[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 71px);padding:30px;color:#292929}th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;width:100%;text-align:left;padding:6px}th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(228,228,228);transition:all .3s ease}"]}),e})();function h(e,i,n){return(e<i?-1:1)*(n?1:-1)}var z=r(7531);function L(e,i){if(1&e&&(t.TgZ(0,"option",8),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n.extra),t.xp6(1),t.hij(" ",n.name," ")}}function H(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",10),t.NdJ("click",function(){const s=t.CHM(n).index;return t.oxw(2).openDialog(s)}),t._uU(11,"Ver m\xe1s..."),t.qZA()()()}if(2&e){const n=i.$implicit,o=i.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.AsE(" ",n.nombre," ",n.apellidos," "),t.xp6(2),t.hij(" ",n.correo," "),t.xp6(2),t.hij(" ",n.puntajeBaneo," ")}}function $(e,i){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,H,12,5,"tr",9),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.nutriologos)}}function V(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",11),t.NdJ("click",function(){const s=t.CHM(n).index;return t.oxw(2).openDialog(s)}),t._uU(11,"Ver m\xe1s..."),t.qZA()()()}if(2&e){const n=i.$implicit,o=i.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.AsE(" ",n.nombre," ",n.apellidos," "),t.xp6(2),t.hij(" ",n.correo," "),t.xp6(2),t.hij(" ",n.puntajeBaneo," ")}}function X(e,i){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,V,12,5,"tr",9),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.usuarios)}}let K=(()=>{class e{constructor(n,o){this.administradorService=n,this.dialog=o,this.usuarios=[],this.nutriologos=[],this.mostrar="n",this.opciones=[{name:"Ver nutri\xf3logos",extra:"n"},{name:"Ver clientes",extra:"c"}]}openDialog(n){"n"==this.mostrar&&(this.userData=this.nutriologos[n]),"c"==this.mostrar&&(this.userData=this.usuarios[n]),console.log(this.userData),this.dialog.open(b,{width:"700px",height:"550px",data:this.userData}).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}ngOnInit(){this.token=localStorage.getItem("token"),this.administradorService.getBaneadosN(this.token).subscribe(n=>this.nutriologos=n),this.administradorService.getBaneadosC(this.token).subscribe(n=>this.usuarios=n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.p),t.Y36(d.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-baneos"]],decls:25,vars:4,consts:[[1,"content"],[1,"head"],["matNativeControl","",1,"caja",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"table","table-hover","align-middle"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-warning",3,"click"],[1,"btn","btn-outline-success",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3,"Usarios baneados"),t.qZA(),t.TgZ(4,"select",2),t.NdJ("ngModelChange",function(s){return o.mostrar=s}),t.YNc(5,L,2,2,"option",3),t.qZA()(),t._UZ(6,"hr")(7,"br"),t.TgZ(8,"div",4)(9,"div",5)(10,"table",6)(11,"thead")(12,"tr")(13,"th"),t._uU(14," # "),t.qZA(),t.TgZ(15,"th"),t._uU(16," Nombre "),t.qZA(),t.TgZ(17,"th"),t._uU(18," Correo "),t.qZA(),t.TgZ(19,"th"),t._uU(20," Pts. Baneo "),t.qZA(),t.TgZ(21,"th"),t._uU(22," Detalles "),t.qZA()()(),t.YNc(23,$,2,1,"tbody",7),t.YNc(24,X,2,1,"tbody",7),t.qZA()()()()),2&n&&(t.xp6(4),t.Q6J("ngModel",o.mostrar),t.xp6(1),t.Q6J("ngForOf",o.opciones),t.xp6(18),t.Q6J("ngIf","n"==o.mostrar),t.xp6(1),t.Q6J("ngIf","c"==o.mostrar))},directives:[z.Nt,u.EJ,u.JJ,u.On,c.sg,u.YN,u.Kr,c.O5],styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:18px;margin-top:7px}select[_ngcontent-%COMP%]{background:transparent;border:none;font-size:14px;height:30px;padding:5px;width:250px}select[_ngcontent-%COMP%]:focus{outline:none}h4[_ngcontent-%COMP%]{font-size:20px}.content[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 71px);padding:30px;color:#292929}th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;width:100%;text-align:left;padding:6px}th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(228,228,228);transition:all .3s ease}"]}),e})(),G=(()=>{class e{constructor(n,o,a){this.dialogRef=n,this.solicitud=o,this.administradorService=a,this.panelOpenState=!1,console.log(o)}ngOnInit(){this.token=localStorage.getItem("token")}onNoClick(){this.dialogRef.close()}acceptRequest(n){this.token=localStorage.getItem("token"),this.administradorService.acceptRequest(this.token,n).subscribe({error:o=>console.error("There was an error!",o)})}denyRequest(n){this.token=localStorage.getItem("token"),this.administradorService.denyRequest(this.token,n).subscribe({error:o=>console.error("There was an error!",o)})}refresh(){window.location.reload(),window.location.reload()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.so),t.Y36(d.WI),t.Y36(g.p))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-request-dialog"]],decls:53,vars:13,consts:[[1,"head"],["mat-dialog-close","",1,"close"],[1,"bx","bx-x-circle","bx-sm"],[1,"container"],[1,"general"],[1,"detalles"],[1,"mensaje"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-success","me-md-2",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Datos de la Solicitud"),t.qZA(),t.TgZ(3,"button",1),t._UZ(4,"i",2),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"p")(8,"b"),t._uU(9,"Nombre: "),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"p")(12,"b"),t._uU(13,"Fecha de nacimiento: "),t.qZA(),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"p")(17,"b"),t._uU(18,"Celular: "),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"p")(21,"b"),t._uU(22,"Domicilio: "),t.qZA(),t._uU(23),t.qZA(),t.TgZ(24,"p")(25,"b"),t._uU(26,"CURP: "),t.qZA(),t._uU(27),t.qZA(),t.TgZ(28,"p")(29,"b"),t._uU(30,"Sexo: "),t.qZA(),t._uU(31),t.qZA()(),t.TgZ(32,"div",5)(33,"p")(34,"b"),t._uU(35,"C\xe9dula profesional: "),t.qZA(),t._uU(36),t.qZA(),t.TgZ(37,"p")(38,"b"),t._uU(39,"Correo: "),t.qZA(),t._uU(40),t.qZA(),t.TgZ(41,"p")(42,"b"),t._uU(43,"Estudios / Especialidad: "),t.qZA()(),t.TgZ(44,"div",6)(45,"p"),t._uU(46),t.qZA()()()(),t._UZ(47,"hr"),t.TgZ(48,"div",7)(49,"button",8),t.NdJ("click",function(){return o.acceptRequest(o.solicitud._id)})("click",function(){return o.refresh()}),t._uU(50,"Aceptar"),t.qZA(),t.TgZ(51,"button",9),t.NdJ("click",function(){return o.denyRequest(o.solicitud._id)})("click",function(){return o.refresh()}),t._uU(52,"Rechazar"),t.qZA()()),2&n&&(t.xp6(10),t.AsE(" ",o.solicitud.nombre," ",o.solicitud.apellidos,""),t.xp6(4),t.hij(" ",t.xi3(15,10,o.solicitud.fecha_nacimiento,"dd/MM/yyyy")," "),t.xp6(5),t.hij(" ",o.solicitud.celular," "),t.xp6(4),t.hij(" ",o.solicitud.domicilio," "),t.xp6(4),t.hij(" ",o.solicitud.CURP," "),t.xp6(4),t.hij(" ",o.solicitud.sexo," "),t.xp6(5),t.hij(" ",o.solicitud.cedula," "),t.xp6(4),t.hij(" ",o.solicitud.correo," "),t.xp6(6),t.hij(" ",o.solicitud.mensaje," "))},directives:[d.ZT],pipes:[c.uU],styles:[".close[_ngcontent-%COMP%]{background:none;border:none}.head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:330px;padding:10px;margin-top:20px}.container[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:10px 20px;border-right:.5px dashed gainsboro}.container[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:10px 20px}.container[_ngcontent-%COMP%]   .detalles[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{width:100%;height:100%;padding:15px;margin-top:-10px;border-radius:10px;font-size:13px;font-style:italic;border:.5px solid rgb(160,160,160);overflow-y:auto;scroll-behavior:smooth;scrollbar-arrow-color:red}"]}),e})();const W=function(){return{color:"#D6BC26 "}};function tt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"mat-icon",5),t._uU(11,"warning"),t.qZA()(),t.TgZ(12,"td")(13,"button",6),t.NdJ("click",function(){const s=t.CHM(n).index;return t.oxw().openDialog(s)}),t._uU(14,"Ver solicitud"),t.qZA()()()}if(2&e){const n=i.$implicit,o=i.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.AsE(" ",n.nombre," ",n.apellidos," "),t.xp6(2),t.hij(" ",n.correo," "),t.xp6(2),t.hij(" ",n.celular," "),t.xp6(2),t.Q6J("ngStyle",t.DdM(6,W))}}const nt=[{path:"",component:y,children:[{path:"lista-clientes",component:Y},{path:"lista-nutriologos",component:Q},{path:"baneos",component:K},{path:"solicitudes",component:(()=>{class e{constructor(n,o){this.administradorService=n,this.dialog=o,this.solicitudes=[],this.sortedRequest=[]}openDialog(n){this.solicitud=this.sortedRequest[n],this.dialog.open(G,{width:"700px",height:"520px",data:this.solicitud}).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}ngOnInit(){this.token=localStorage.getItem("token"),this.administradorService.getSolicitudes(this.token).subscribe({next:n=>this.solicitudes=n,complete:()=>{this.sortedRequest=this.solicitudes.slice(),console.log(this.sortedRequest)}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.p),t.Y36(d.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-solicitudes"]],decls:28,vars:1,consts:[[1,"content"],[1,"row"],[1,"col"],[1,"table","table-hover","align-middle"],[4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"btn","btn-outline-primary",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Solicitudes de nutri\xf3logos "),t.qZA(),t._UZ(3,"hr")(4,"br"),t.TgZ(5,"div",1)(6,"div",2)(7,"table",3)(8,"thead")(9,"tr")(10,"th"),t._uU(11," # "),t.qZA(),t.TgZ(12,"th")(13,"button"),t._uU(14,"Nombre"),t.qZA()(),t.TgZ(15,"th")(16,"button"),t._uU(17,"Correo"),t.qZA()(),t.TgZ(18,"th")(19,"button"),t._uU(20,"Celular"),t.qZA()(),t.TgZ(21,"th")(22,"button"),t._uU(23,"Estatus"),t.qZA()(),t.TgZ(24,"th"),t._uU(25," Detalles "),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,tt,15,7,"tr",4),t.qZA()()()()()),2&n&&(t.xp6(27),t.Q6J("ngForOf",o.solicitudes))},directives:[c.sg,T.Hw,c.PC],styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:18px;margin-top:7px}select[_ngcontent-%COMP%]{background:transparent;border:none;font-size:14px;height:30px;padding:5px;width:250px}select[_ngcontent-%COMP%]:focus{outline:none}h4[_ngcontent-%COMP%]{font-size:20px}.content[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 71px);padding:30px;color:#292929}th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;width:100%;text-align:left;padding:6px}th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(228,228,228);transition:all .3s ease}"]}),e})()},{path:"**",redirectTo:"lista-clientes"}]}];let et=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[_.Bz.forChild(nt)],_.Bz]}),e})();var ot=r(5090);let it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,et,u.u5,ot.q]]}),e})()}}]);